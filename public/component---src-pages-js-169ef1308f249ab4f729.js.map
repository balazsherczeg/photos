{"version":3,"file":"component---src-pages-js-169ef1308f249ab4f729.js","mappings":"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","sources":["webpack://photos/./node_modules/react-cool-dimensions/dist/index.esm.js","webpack://photos/./node_modules/react-swipeable/es/index.js","webpack://photos/./src/@packages/Gallery/components/Carrousel/Buttons/BaseButton.tsx","webpack://photos/./src/@packages/Gallery/components/Carrousel/Buttons/Buttons.tsx","webpack://photos/./src/@packages/Gallery/utils/index.ts","webpack://photos/./src/@packages/Gallery/components/Picture/Picture.tsx","webpack://photos/./src/@packages/Gallery/components/Picture/utils.ts","webpack://photos/./node_modules/classcat/index.js","webpack://photos/./src/data/useData.js","webpack://photos/./src/data/useTags.ts","webpack://photos/./src/components/Tags.tsx","webpack://photos/./src/@packages/Gallery/components/Carrousel/Caption.tsx","webpack://photos/./src/@packages/Gallery/components/hooks/useScroll.js","webpack://photos/./src/@packages/Gallery/components/hooks/useWindowSize.js","webpack://photos/./src/@packages/Gallery/components/Carrousel/ImageSizer.tsx","webpack://photos/./src/@packages/Gallery/components/Carrousel/Item.tsx","webpack://photos/./src/@packages/Gallery/components/Carrousel/Carrousel.tsx","webpack://photos/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://photos/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://photos/./node_modules/dom-helpers/esm/removeClass.js","webpack://photos/./node_modules/react-transition-group/esm/config.js","webpack://photos/./node_modules/react-transition-group/esm/TransitionGroupContext.js","webpack://photos/./node_modules/react-transition-group/esm/utils/reflow.js","webpack://photos/./node_modules/react-transition-group/esm/Transition.js","webpack://photos/./node_modules/react-transition-group/esm/CSSTransition.js","webpack://photos/./node_modules/dom-helpers/esm/addClass.js","webpack://photos/./node_modules/dom-helpers/esm/hasClass.js","webpack://photos/./src/@packages/Portal.ts","webpack://photos/./src/@packages/Gallery/components/Layout.jsx","webpack://photos/./src/@packages/Gallery/components/Loading.js","webpack://photos/./src/@packages/Gallery/components/Masonry/useVisibleItems.ts","webpack://photos/./src/@packages/Gallery/components/Masonry/index.tsx","webpack://photos/./src/@packages/Gallery/hooks/useMasonry.ts","webpack://photos/./src/@packages/Gallery/Gallery.tsx","webpack://photos/./src/models/Taxonomy.ts","webpack://photos/./src/data/useCategories.ts","webpack://photos/./src/data/useTaxonomy.ts","webpack://photos/./src/data/utils.js","webpack://photos/./src/data/useItems.ts","webpack://photos/./src/hooks/useScroll.ts","webpack://photos/./src/@packages/SlideIn/SlideIn.tsx","webpack://photos/./src/components/Navigation/components/Item.js","webpack://photos/./src/components/Navigation/components/Categories.tsx","webpack://photos/./src/components/Navigation/Navigation.tsx","webpack://photos/./src/components/Header.tsx","webpack://photos/./src/components/Page.tsx","webpack://photos/./src/pages/[...].js"],"sourcesContent":["import { useRef, useState, useCallback, useEffect } from 'react';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar useLatest = (function (val) {\n  var ref = useRef(val);\n  ref.current = val;\n  return ref;\n});\n\nvar observerErr = \"ðŸ’¡ react-cool-dimensions: the browser doesn't support Resize Observer, please use polyfill: https://github.com/wellyshen/react-cool-dimensions#resizeobserver-polyfill\";\nvar borderBoxWarn = \"ðŸ’¡ react-cool-dimensions: the browser doesn't support border-box size, fallback to content-box size. Please see: https://github.com/wellyshen/react-cool-dimensions#border-box-size-measurement\";\n\nvar getCurrentBreakpoint = function getCurrentBreakpoint(bps, w) {\n  var curBp = \"\";\n  var max = -1;\n  Object.keys(bps).forEach(function (key) {\n    var val = bps[key];\n\n    if (w >= val && val > max) {\n      curBp = key;\n      max = val;\n    }\n  });\n  return curBp;\n};\n\nvar useDimensions = function useDimensions(_temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      useBorderBoxSize = _ref.useBorderBoxSize,\n      breakpoints = _ref.breakpoints,\n      updateOnBreakpointChange = _ref.updateOnBreakpointChange,\n      shouldUpdate = _ref.shouldUpdate,\n      onResize = _ref.onResize,\n      polyfill = _ref.polyfill;\n\n  var _useState = useState({\n    currentBreakpoint: \"\",\n    width: null,\n    height: null\n  }),\n      state = _useState[0],\n      setState = _useState[1];\n\n  var prevSizeRef = useRef({});\n  var prevBreakpointRef = useRef();\n  var observerRef = useRef();\n  var warnedRef = useRef(false);\n  var ref = useRef();\n  var onResizeRef = useLatest(onResize);\n  var shouldUpdateRef = useLatest(shouldUpdate);\n  var unobserve = useCallback(function () {\n    if (observerRef.current) observerRef.current.disconnect();\n  }, []);\n  var observe = useCallback(function (element) {\n    if (element && element !== ref.current) {\n      unobserve();\n      ref.current = element;\n      setState({\n        currentBreakpoint: \"\",\n        width: element.clientWidth,\n        height: element.clientHeight\n      });\n    }\n\n    if (observerRef.current && ref.current) observerRef.current.observe(ref.current);\n  }, [unobserve]);\n  useEffect(function () {\n    if ((!(\"ResizeObserver\" in window) || !(\"ResizeObserverEntry\" in window)) && !polyfill) {\n      console.error(observerErr);\n      return function () {\n        return null;\n      };\n    }\n\n    var raf = null; // eslint-disable-next-line compat/compat\n\n    observerRef.current = new (polyfill || ResizeObserver)(function (_ref2) {\n      var entry = _ref2[0];\n      raf = requestAnimationFrame(function () {\n        var contentBoxSize = entry.contentBoxSize,\n            borderBoxSize = entry.borderBoxSize,\n            contentRect = entry.contentRect;\n        var boxSize = contentBoxSize;\n        if (useBorderBoxSize) if (borderBoxSize) {\n          boxSize = borderBoxSize;\n        } else if (!warnedRef.current) {\n          console.warn(borderBoxWarn);\n          warnedRef.current = true;\n        } // @juggle/resize-observer polyfill has different data structure\n\n        boxSize = Array.isArray(boxSize) ? boxSize[0] : boxSize;\n        var width = boxSize ? boxSize.inlineSize : contentRect.width;\n        var height = boxSize ? boxSize.blockSize : contentRect.height;\n        if (width === prevSizeRef.current.width && height === prevSizeRef.current.height) return;\n        prevSizeRef.current = {\n          width: width,\n          height: height\n        };\n        var e = {\n          currentBreakpoint: \"\",\n          width: width,\n          height: height,\n          entry: entry,\n          observe: observe,\n          unobserve: unobserve\n        };\n\n        if (breakpoints) {\n          e.currentBreakpoint = getCurrentBreakpoint(breakpoints, width);\n\n          if (e.currentBreakpoint !== prevBreakpointRef.current) {\n            if (onResizeRef.current) onResizeRef.current(e);\n            prevBreakpointRef.current = e.currentBreakpoint;\n          }\n        } else if (onResizeRef.current) {\n          onResizeRef.current(e);\n        }\n\n        var next = {\n          currentBreakpoint: e.currentBreakpoint,\n          width: width,\n          height: height,\n          entry: entry\n        };\n        if (shouldUpdateRef.current && !shouldUpdateRef.current(next)) return;\n\n        if (!shouldUpdateRef.current && breakpoints && updateOnBreakpointChange) {\n          setState(function (prev) {\n            return prev.currentBreakpoint !== next.currentBreakpoint ? next : prev;\n          });\n          return;\n        }\n\n        setState(next);\n      });\n    });\n    observe();\n    return function () {\n      unobserve();\n      if (raf) cancelAnimationFrame(raf);\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [// eslint-disable-next-line react-hooks/exhaustive-deps\n  JSON.stringify(breakpoints), useBorderBoxSize, observe, unobserve, updateOnBreakpointChange]);\n  return _extends({}, state, {\n    observe: observe,\n    unobserve: unobserve\n  });\n};\n\nexport default useDimensions;\nexport { borderBoxWarn, observerErr };\n//# sourceMappingURL=index.esm.js.map\n","import * as React from 'react';\n\nconst LEFT = \"Left\";\nconst RIGHT = \"Right\";\nconst UP = \"Up\";\nconst DOWN = \"Down\";\n\n/* global document */\nconst defaultProps = {\n    delta: 10,\n    preventScrollOnSwipe: false,\n    rotationAngle: 0,\n    trackMouse: false,\n    trackTouch: true,\n    swipeDuration: Infinity,\n    touchEventOptions: { passive: true },\n};\nconst initialState = {\n    first: true,\n    initial: [0, 0],\n    start: 0,\n    swiping: false,\n    xy: [0, 0],\n};\nconst mouseMove = \"mousemove\";\nconst mouseUp = \"mouseup\";\nconst touchEnd = \"touchend\";\nconst touchMove = \"touchmove\";\nconst touchStart = \"touchstart\";\nfunction getDirection(absX, absY, deltaX, deltaY) {\n    if (absX > absY) {\n        if (deltaX > 0) {\n            return RIGHT;\n        }\n        return LEFT;\n    }\n    else if (deltaY > 0) {\n        return DOWN;\n    }\n    return UP;\n}\nfunction rotateXYByAngle(pos, angle) {\n    if (angle === 0)\n        return pos;\n    const angleInRadians = (Math.PI / 180) * angle;\n    const x = pos[0] * Math.cos(angleInRadians) + pos[1] * Math.sin(angleInRadians);\n    const y = pos[1] * Math.cos(angleInRadians) - pos[0] * Math.sin(angleInRadians);\n    return [x, y];\n}\nfunction getHandlers(set, handlerProps) {\n    const onStart = (event) => {\n        const isTouch = \"touches\" in event;\n        // if more than a single touch don't track, for now...\n        if (isTouch && event.touches.length > 1)\n            return;\n        set((state, props) => {\n            // setup mouse listeners on document to track swipe since swipe can leave container\n            if (props.trackMouse && !isTouch) {\n                document.addEventListener(mouseMove, onMove);\n                document.addEventListener(mouseUp, onUp);\n            }\n            const { clientX, clientY } = isTouch ? event.touches[0] : event;\n            const xy = rotateXYByAngle([clientX, clientY], props.rotationAngle);\n            props.onTouchStartOrOnMouseDown &&\n                props.onTouchStartOrOnMouseDown({ event });\n            return Object.assign(Object.assign(Object.assign({}, state), initialState), { initial: xy.slice(), xy, start: event.timeStamp || 0 });\n        });\n    };\n    const onMove = (event) => {\n        set((state, props) => {\n            const isTouch = \"touches\" in event;\n            // Discount a swipe if additional touches are present after\n            // a swipe has started.\n            if (isTouch && event.touches.length > 1) {\n                return state;\n            }\n            // if swipe has exceeded duration stop tracking\n            if (event.timeStamp - state.start > props.swipeDuration) {\n                return state.swiping ? Object.assign(Object.assign({}, state), { swiping: false }) : state;\n            }\n            const { clientX, clientY } = isTouch ? event.touches[0] : event;\n            const [x, y] = rotateXYByAngle([clientX, clientY], props.rotationAngle);\n            const deltaX = x - state.xy[0];\n            const deltaY = y - state.xy[1];\n            const absX = Math.abs(deltaX);\n            const absY = Math.abs(deltaY);\n            const time = (event.timeStamp || 0) - state.start;\n            const velocity = Math.sqrt(absX * absX + absY * absY) / (time || 1);\n            const vxvy = [deltaX / (time || 1), deltaY / (time || 1)];\n            const dir = getDirection(absX, absY, deltaX, deltaY);\n            // if swipe is under delta and we have not started to track a swipe: skip update\n            const delta = typeof props.delta === \"number\"\n                ? props.delta\n                : props.delta[dir.toLowerCase()] ||\n                    defaultProps.delta;\n            if (absX < delta && absY < delta && !state.swiping)\n                return state;\n            const eventData = {\n                absX,\n                absY,\n                deltaX,\n                deltaY,\n                dir,\n                event,\n                first: state.first,\n                initial: state.initial,\n                velocity,\n                vxvy,\n            };\n            // call onSwipeStart if present and is first swipe event\n            eventData.first && props.onSwipeStart && props.onSwipeStart(eventData);\n            // call onSwiping if present\n            props.onSwiping && props.onSwiping(eventData);\n            // track if a swipe is cancelable (handler for swiping or swiped(dir) exists)\n            // so we can call preventDefault if needed\n            let cancelablePageSwipe = false;\n            if (props.onSwiping ||\n                props.onSwiped ||\n                props[`onSwiped${dir}`]) {\n                cancelablePageSwipe = true;\n            }\n            if (cancelablePageSwipe &&\n                props.preventScrollOnSwipe &&\n                props.trackTouch &&\n                event.cancelable) {\n                event.preventDefault();\n            }\n            return Object.assign(Object.assign({}, state), { \n                // first is now always false\n                first: false, eventData, swiping: true });\n        });\n    };\n    const onEnd = (event) => {\n        set((state, props) => {\n            let eventData;\n            if (state.swiping && state.eventData) {\n                // if swipe is less than duration fire swiped callbacks\n                if (event.timeStamp - state.start < props.swipeDuration) {\n                    eventData = Object.assign(Object.assign({}, state.eventData), { event });\n                    props.onSwiped && props.onSwiped(eventData);\n                    const onSwipedDir = props[`onSwiped${eventData.dir}`];\n                    onSwipedDir && onSwipedDir(eventData);\n                }\n            }\n            else {\n                props.onTap && props.onTap({ event });\n            }\n            props.onTouchEndOrOnMouseUp && props.onTouchEndOrOnMouseUp({ event });\n            return Object.assign(Object.assign(Object.assign({}, state), initialState), { eventData });\n        });\n    };\n    const cleanUpMouse = () => {\n        // safe to just call removeEventListener\n        document.removeEventListener(mouseMove, onMove);\n        document.removeEventListener(mouseUp, onUp);\n    };\n    const onUp = (e) => {\n        cleanUpMouse();\n        onEnd(e);\n    };\n    /**\n     * The value of passive on touchMove depends on `preventScrollOnSwipe`:\n     * - true => { passive: false }\n     * - false => { passive: true } // Default\n     *\n     * NOTE: When preventScrollOnSwipe is true, we attempt to call preventDefault to prevent scroll.\n     *\n     * props.touchEventOptions can also be set for all touch event listeners,\n     * but for `touchmove` specifically when `preventScrollOnSwipe` it will\n     * supersede and force passive to false.\n     *\n     */\n    const attachTouch = (el, props) => {\n        let cleanup = () => { };\n        if (el && el.addEventListener) {\n            const baseOptions = Object.assign(Object.assign({}, defaultProps.touchEventOptions), props.touchEventOptions);\n            // attach touch event listeners and handlers\n            const tls = [\n                [touchStart, onStart, baseOptions],\n                // preventScrollOnSwipe option supersedes touchEventOptions.passive\n                [\n                    touchMove,\n                    onMove,\n                    Object.assign(Object.assign({}, baseOptions), (props.preventScrollOnSwipe ? { passive: false } : {})),\n                ],\n                [touchEnd, onEnd, baseOptions],\n            ];\n            tls.forEach(([e, h, o]) => el.addEventListener(e, h, o));\n            // return properly scoped cleanup method for removing listeners, options not required\n            cleanup = () => tls.forEach(([e, h]) => el.removeEventListener(e, h));\n        }\n        return cleanup;\n    };\n    const onRef = (el) => {\n        // \"inline\" ref functions are called twice on render, once with null then again with DOM element\n        // ignore null here\n        if (el === null)\n            return;\n        set((state, props) => {\n            // if the same DOM el as previous just return state\n            if (state.el === el)\n                return state;\n            const addState = {};\n            // if new DOM el clean up old DOM and reset cleanUpTouch\n            if (state.el && state.el !== el && state.cleanUpTouch) {\n                state.cleanUpTouch();\n                addState.cleanUpTouch = void 0;\n            }\n            // only attach if we want to track touch\n            if (props.trackTouch && el) {\n                addState.cleanUpTouch = attachTouch(el, props);\n            }\n            // store event attached DOM el for comparison, clean up, and re-attachment\n            return Object.assign(Object.assign(Object.assign({}, state), { el }), addState);\n        });\n    };\n    // set ref callback to attach touch event listeners\n    const output = {\n        ref: onRef,\n    };\n    // if track mouse attach mouse down listener\n    if (handlerProps.trackMouse) {\n        output.onMouseDown = onStart;\n    }\n    return [output, attachTouch];\n}\nfunction updateTransientState(state, props, previousProps, attachTouch) {\n    // if trackTouch is off or there is no el, then remove handlers if necessary and exit\n    if (!props.trackTouch || !state.el) {\n        if (state.cleanUpTouch) {\n            state.cleanUpTouch();\n        }\n        return Object.assign(Object.assign({}, state), { cleanUpTouch: undefined });\n    }\n    // trackTouch is on, so if there are no handlers attached, attach them and exit\n    if (!state.cleanUpTouch) {\n        return Object.assign(Object.assign({}, state), { cleanUpTouch: attachTouch(state.el, props) });\n    }\n    // trackTouch is on and handlers are already attached, so if preventScrollOnSwipe changes value,\n    // remove and reattach handlers (this is required to update the passive option when attaching\n    // the handlers)\n    if (props.preventScrollOnSwipe !== previousProps.preventScrollOnSwipe ||\n        props.touchEventOptions.passive !== previousProps.touchEventOptions.passive) {\n        state.cleanUpTouch();\n        return Object.assign(Object.assign({}, state), { cleanUpTouch: attachTouch(state.el, props) });\n    }\n    return state;\n}\nfunction useSwipeable(options) {\n    const { trackMouse } = options;\n    const transientState = React.useRef(Object.assign({}, initialState));\n    const transientProps = React.useRef(Object.assign({}, defaultProps));\n    // track previous rendered props\n    const previousProps = React.useRef(Object.assign({}, transientProps.current));\n    previousProps.current = Object.assign({}, transientProps.current);\n    // update current render props & defaults\n    transientProps.current = Object.assign(Object.assign({}, defaultProps), options);\n    // Force defaults for config properties\n    let defaultKey;\n    for (defaultKey in defaultProps) {\n        if (transientProps.current[defaultKey] === void 0) {\n            transientProps.current[defaultKey] = defaultProps[defaultKey];\n        }\n    }\n    const [handlers, attachTouch] = React.useMemo(() => getHandlers((stateSetter) => (transientState.current = stateSetter(transientState.current, transientProps.current)), { trackMouse }), [trackMouse]);\n    transientState.current = updateTransientState(transientState.current, transientProps.current, previousProps.current, attachTouch);\n    return handlers;\n}\n\nexport { DOWN, LEFT, RIGHT, UP, useSwipeable };\n//# sourceMappingURL=index.js.map\n","import styled from 'styled-components';\n\nconst BaseButton = styled.button`\n  background-color: #ddd;\n  background-position: center;\n  background-repeat: no-repeat;\n  border: none;\n  cursor: pointer;\n  opacity: 0.5;\n  outline: none;\n  padding: 0;\n  position: absolute;\n  -webkit-tap-highlight-color: transparent;\n  z-index: 100;\n\n  @media (pointer: coarse) {\n    border-radius: 1.5rem;\n    height: 3rem;\n    width: 3rem;\n  }\n\n  @media (pointer: fine) {\n    border-radius: 1rem;\n    height: 2rem;\n    width: 2rem;\n\n    &:hover {\n      opacity: 0.75;\n    }\n  }\n\n  &:active {\n    opacity: 1;\n  }\n`;\n\nexport default BaseButton;\n","import React from 'react';\nimport styled from 'styled-components';\nimport BaseButton from './BaseButton';\n\nconst svgClose = encodeURIComponent(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\"><path fill=\"#666\" d=\"M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z\" /></svg>'\n);\n\nconst CloseButton = styled(BaseButton)`\n  background-image: url('data:image/svg+xml;utf8,${svgClose}');\n  top: 0.5rem;\n  right: 0.5rem;\n`;\n\nconst svgNext = encodeURIComponent(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\"><path fill=\"#666\" d=\"M5 13h11.17l-4.88 4.88c-.39.39-.39 1.03 0 1.42.39.39 1.02.39 1.41 0l6.59-6.59c.39-.39.39-1.02 0-1.41l-6.58-6.6c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L16.17 11H5c-.55 0-1 .45-1 1s.45 1 1 1z\" /></svg>'\n);\n\nconst NextButton = styled(BaseButton)`\n  background-image: url('data:image/svg+xml;utf8,${svgNext}');\n  border-bottom-right-radius: 0;\n  border-top-right-radius: 0;\n  right: 0;\n  top: 50%;\n\n  @media (pointer: coarse) {\n    background-position: 0.75rem center;\n    margin-top: -1.5rem;\n    width: 3.5rem;\n  }\n\n  @media (pointer: fine) {\n    background-position: 0.25rem center;\n    margin-top: -1rem;\n    width: 2.5rem;\n  }\n`;\n\nconst svgPrev = encodeURIComponent(\n  '<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\"><path d=\"M0 0h24v24H0V0z\" fill=\"none\"/><path  fill=\"#666\" d=\"M19 11H7.83l4.88-4.88c.39-.39.39-1.03 0-1.42-.39-.39-1.02-.39-1.41 0l-6.59 6.59c-.39.39-.39 1.02 0 1.41l6.59 6.59c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L7.83 13H19c.55 0 1-.45 1-1s-.45-1-1-1z\"/></svg>'\n);\n\nconst PrevButton = styled(BaseButton)`\n  background-image: url('data:image/svg+xml;utf8,${svgPrev}');\n  border-bottom-left-radius: 0;\n  border-top-left-radius: 0;\n  left: 0;\n  top: 50%;\n\n  @media (pointer: coarse) {\n    background-position: 1.25rem center;\n    margin-top: -1.5rem;\n    width: 3.5rem;\n  }\n\n  @media (pointer: fine) {\n    background-position: 0.75rem center;\n    margin-top: -1rem;\n    width: 2.5rem;\n  }\n`;\n\nconst Buttons = ({\n  onClose,\n  onNext,\n  onPrev,\n  showNext,\n  showPrev,\n}: {\n  onClose: () => void;\n  onNext: () => void;\n  onPrev: () => void;\n  showNext: boolean;\n  showPrev: boolean;\n}) => (\n  <>\n    <CloseButton onClick={onClose} />\n    {showPrev && <PrevButton onClick={onPrev} />}\n    {showNext && <NextButton onClick={onNext} />}\n  </>\n);\n\nexport default Buttons;\n","import { ItemType, SourceType } from 'models/Item';\n\nexport const getSizes = (item: ItemType): number[] => {\n  const { sources } = item;\n  return Object.keys(sources).map((numericString) => +numericString);\n};\n\nexport const getLargestSource = (item: ItemType): SourceType => {\n  const { sources } = item;\n  const sizes = getSizes(item);\n  return sources[Math.max(...sizes)];\n};\n\nexport const getRatio = (item: ItemType): number => {\n  const { width, height } = getLargestSource(item);\n  return width / height;\n};\n","import React, { useState, useEffect, useMemo } from 'react';\nimport { ItemType } from 'models/Item';\nimport styled from 'styled-components';\nimport { SizeType } from '@packages/Gallery/models/LayoutCache';\nimport { SrcCacheType } from '@packages/Gallery/models/SrcCache';\nimport { getLargeEnoughSource, getLargestLoadedSource } from './utils';\n\nconst Root = styled.div`\n  background-color: #eee;\n  background-size: cover;\n  height: 100%;\n  width: 100%;\n\n  transition: background-color 1s;\n\n  &.loaded {\n    background-color: transparent !important;\n  }\n\n  & img {\n    border: none;\n    height: auto;\n    opacity: 0;\n    transition: opacity 1s;\n    width: 100%;\n\n    &[src] {\n      opacity: 1;\n    }\n  }\n`;\n\nconst srcCache = {} as SrcCacheType;\n\nconst Picture = ({ item, size }: { item: ItemType; size: SizeType }) => {\n  const { width, height } = size ?? ({} as SizeType);\n  const [loadableSrc, setLoadableSrc] = useState<string | null>(null);\n  const [loadedSrc, setLoadedSrc] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (width) {\n      const { src } = getLargeEnoughSource(item, width);\n      if (srcCache[src]) setLoadedSrc(src);\n      setLoadableSrc(src);\n    }\n  }, [width, item]);\n\n  useEffect(() => {\n    if (loadableSrc && !loadedSrc) {\n      const img = new Image();\n      img.src = loadableSrc;\n      img.onload = () => {\n        setLoadedSrc(loadableSrc);\n      };\n      srcCache[loadableSrc] = true;\n    }\n  }, [loadableSrc, loadedSrc]);\n\n  const tempImage = useMemo(\n    () => getLargestLoadedSource(item, srcCache),\n    [item]\n  );\n\n  const temporaryBackground = useMemo(\n    () => ({\n      backgroundImage: tempImage ? `url(${tempImage})` : 'none',\n      ...(item.meta.color ? { backgroundColor: item.meta.color } : {}),\n    }),\n    [item.meta.color, tempImage]\n  );\n\n  return (\n    <Root\n      style={temporaryBackground}\n      className={loadedSrc ? 'loaded' : ''}\n      role=\"article\"\n    >\n      <img\n        {...(loadedSrc ? { src: loadedSrc } : {})}\n        alt=\"\"\n        height={height}\n        width={width}\n      />\n    </Root>\n  );\n};\n\nexport default Picture;\n","import { ItemType } from 'models/Item';\nimport { SrcCacheType } from '@packages/Gallery/models/SrcCache';\nimport { getSizes, getLargestSource } from '@packages/Gallery/utils';\n\nexport const getLargeEnoughSource = (item: ItemType, minSize: number) => {\n  const { sources } = item;\n  const imageSizes = getSizes(item);\n  const getLargerThanMin = (imageSize: number) => minSize <= imageSize;\n  const largerSizes = imageSizes.filter(getLargerThanMin);\n\n  if (!largerSizes.length) return getLargestSource(item);\n\n  return sources[Math.min(...largerSizes)];\n};\n\nexport const getLargestLoadedSource = (\n  item: ItemType,\n  srcCache: SrcCacheType\n) => {\n  const keys = Object.keys(item.sources);\n  const isSourceCached = (key: string) => srcCache[item.sources[key].src];\n  const alreadyLoadedKeys = keys\n    .filter(isSourceCached)\n    .map((number) => +number);\n\n  if (!alreadyLoadedKeys.length) return false;\n\n  const largestAlreadyLoaded = Math.max(...alreadyLoadedKeys);\n  return item.sources[largestAlreadyLoaded].src;\n};\n","export default function cc(names) {\n  if (typeof names === \"string\" || typeof names === \"number\") return \"\" + names\n\n  let out = \"\"\n\n  if (Array.isArray(names)) {\n    for (let i = 0, tmp; i < names.length; i++) {\n      if ((tmp = cc(names[i])) !== \"\") {\n        out += (out && \" \") + tmp\n      }\n    }\n  } else {\n    for (let k in names) {\n      if (names[k]) out += (out && \" \") + k\n    }\n  }\n\n  return out\n}\n","import { useEffect } from 'react';\n\nlet data = null;\nlet loadStarted = false;\n\nconst useData = () => {\n  useEffect(() => {\n    if (data === null && loadStarted === false) {\n      loadStarted = true;\n      fetch(`${process.env.GATSBY_DATA_URL}data.json`).then((result) => {\n        result.json().then((d) => {\n          data = d;\n        });\n      });\n    }\n  }, []);\n\n  return data || {};\n};\n\nexport default useData;\n","import { Tags as TagsType } from 'models/Tags';\nimport useData from './useData';\n\nconst Tags = (): TagsType => {\n  const { tags } = useData();\n\n  return tags ?? {};\n};\n\nexport default Tags;\n","import React from 'react';\nimport cc from 'classcat';\nimport { Link } from 'gatsby';\nimport styled from 'styled-components';\nimport useTags from 'data/useTags';\n\nconst Root = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n\n  a {\n    background-color: #eee;\n    border-radius: 1rem;\n    color: #000;\n    font-size: var(--font-size-smaller-1);\n    padding: 0.25rem 0.5rem;\n    opacity: 0.8;\n    text-decoration: none;\n    letter-spacing: 0.03rem;\n\n    &:hover {\n      background-color: #ccc;\n    }\n\n    &.active {\n      background-color: #999;\n      color: #fff;\n    }\n  }\n`;\n\nconst Tags = ({\n  tags,\n  activeTag,\n}: {\n  tags: string[];\n  activeTag?: string | null;\n}) => {\n  const allTags = useTags();\n\n  return (\n    <Root>\n      {tags.map((slug) => (\n        <Link\n          to={`/tag/${slug}`}\n          key={slug}\n          className={cc({\n            active: slug === activeTag,\n          })}\n        >\n          {allTags[slug]}\n        </Link>\n      ))}\n    </Root>\n  );\n};\n\nexport default Tags;\n","import React from 'react';\nimport Tags from 'components/Tags';\nimport { ItemType } from 'models/Item';\nimport styled from 'styled-components';\n\nconst Root = styled.div`\n  align-items: center;\n  background-color: #fff;\n  background: none;\n  display: flex;\n  flex-direction: row-reverse;\n  height: 3rem;\n  justify-content: space-between;\n  padding: 0 1rem;\n\n  & .meta {\n    align-items: center;\n    display: flex;\n    gap: 1rem;\n  }\n`;\n\nconst formatDate = (date: string) => {\n  const dateParts = date.split('-');\n  return dateParts.length === 3\n    ? `${dateParts[2]}.${dateParts[1]}.${dateParts[0]}`\n    : date;\n};\n\nconst Caption = ({\n  item: {\n    meta: { caption, date, location },\n    tags = [],\n  },\n  className = null,\n}: {\n  item: ItemType;\n  className?: string | null;\n}) => {\n  return (\n    <Root className={`${className} VMG__Caption`}>\n      <div className=\"meta\">\n        <Tags tags={tags} />\n        {(date || location) && (\n          <div>\n            {formatDate(date)}\n            {!!date && !!location && ', '}\n            {location}\n          </div>\n        )}\n      </div>\n      {!!caption && (\n        <h3 className=\"description VMG__Caption__description\">{caption}</h3>\n      )}\n    </Root>\n  );\n};\n\nexport default Caption;\n","import { useState, useEffect } from 'react';\n\n// https://gist.github.com/joshuacerbito/ea318a6a7ca4336e9fadb9ae5bbb87f4\n\nconst useScroll = () => {\n  const [scroll, setScroll] = useState({\n    x: document.body.getBoundingClientRect().left,\n    y: document.body.getBoundingClientRect().top,\n    direction: '',\n  });\n\n  const listener = () => {\n    setScroll((prev) => ({\n      x: document.body.getBoundingClientRect().left,\n      y: -document.body.getBoundingClientRect().top,\n      direction:\n        prev.y > -document.body.getBoundingClientRect().top ? 'up' : 'down',\n    }));\n  };\n\n  useEffect(() => {\n    window.addEventListener('scroll', listener);\n    return () => window.removeEventListener('scroll', listener);\n  }, []);\n\n  return scroll;\n};\n\nexport default useScroll;\n","import { useState, useEffect } from 'react';\n\n// https://usehooks.com/useWindowSize/\n\nconst useWindowSize = () => {\n  const [windowSize, setWindowSize] = useState({\n    width: undefined,\n    height: undefined,\n  });\n\n  useEffect(() => {\n    const handleResize = () => {\n      // Set window width/height to state\n      setWindowSize({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      });\n    };\n\n    window.addEventListener('resize', handleResize);\n\n    handleResize();\n\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  return windowSize;\n};\n\nexport default useWindowSize;\n","import React, { useRef, useMemo } from 'react';\nimport { ItemType } from 'models/Item';\nimport styled from 'styled-components';\nimport { getRatio } from '../../utils';\nimport { useWindowSize } from '../hooks';\n\nconst Root = styled.div`\n  align-items: center;\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  position: relative;\n  width: 100%;\n\n  & .contained {\n    overflow: hidden;\n  }\n`;\n\nconst ImageSizer = ({\n  children,\n  item,\n}: {\n  children: React.ReactElement<any>;\n  item: ItemType;\n}) => {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const windowSize = useWindowSize();\n\n  const imageRatio = getRatio(item);\n\n  const containerSize = useMemo(() => {\n    if (containerRef.current) {\n      const { width, height } = containerRef.current.getBoundingClientRect();\n      return { width, height };\n    }\n    return null;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [containerRef, windowSize]);\n\n  const containedSize = useMemo(() => {\n    if (containerSize) {\n      const { height: containerHeight, width: containerWidth } = containerSize;\n\n      const containerRatio = containerWidth / containerHeight;\n\n      if (imageRatio >= containerRatio) {\n        return {\n          height: containerWidth / imageRatio,\n          width: containerWidth,\n        };\n      }\n\n      if (imageRatio < containerRatio) {\n        return {\n          height: containerHeight,\n          width: containerHeight * imageRatio,\n        };\n      }\n\n      return {};\n    }\n  }, [imageRatio, containerSize]);\n\n  return (\n    <Root ref={containerRef}>\n      <div className=\"contained\" style={containedSize}>\n        {React.cloneElement(children, { size: containedSize })}\n      </div>\n    </Root>\n  );\n};\n\nexport default ImageSizer;\n","import React from 'react';\nimport { ItemType } from 'models/Item';\nimport styled from 'styled-components';\nimport { SizeType } from '@packages/Gallery/models/LayoutCache';\nimport Picture from '../Picture/Picture';\nimport Caption from './Caption';\nimport ImageSizer from './ImageSizer';\n\nconst getOffset = (index: number) => `${index * 100}vw`;\n\nconst Root = styled.div`\n  box-sizing: border-box;\n  height: 100%;\n  padding: 1rem 1rem 3rem;\n  position: absolute;\n  width: 100vw;\n  z-index: 10;\n\n  & .captionPosititoner {\n    bottom: 0;\n    left: 0;\n    position: absolute;\n    right: 0;\n    z-index: 12;\n  }\n`;\n\nconst Item = ({ item, index }: { item: ItemType; index: number }) => {\n  return (\n    <Root\n      style={{\n        left: getOffset(index),\n      }}\n    >\n      <ImageSizer item={item}>\n        <Picture item={item} size={{} as SizeType} />\n      </ImageSizer>\n      <div className=\"captionPositioner\">\n        <Caption item={item} />\n      </div>\n    </Root>\n  );\n};\n\nexport default Item;\n","import React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { useSwipeable } from 'react-swipeable';\nimport { ItemType } from 'models/Item';\nimport styled from 'styled-components';\nimport Buttons from './Buttons';\nimport Item from './Item';\n\nconst Root = styled.div`\n  background: #fff;\n  height: 100%;\n  overflow: hidden;\n  position: relative;\n  width: 100vw;\n\n  & .movingPart {\n    height: 100%;\n    position: absolute;\n    transition: transform 0.5s;\n  }\n`;\n\nconst Carrousel = ({\n  index: startIndex,\n  onClose,\n  onNext,\n  items,\n}: {\n  index: number;\n  onClose: (index: number) => void;\n  onNext: (nextIndex: number) => void;\n  items: ItemType[];\n}) => {\n  const [index, setIndex] = useState(startIndex);\n  const [renderables, setRenderables] = useState([startIndex]);\n\n  const firstFrame = index === 0;\n  const lastFrame = index === items.length - 1;\n\n  const carrouselStyle = useMemo(\n    () => ({\n      width: `${items.length * 100}vw`,\n      transform: `translate3d(-${index * 100}vw, 0, 0)`,\n    }),\n    [index, items.length]\n  );\n\n  const handleClick = useCallback(\n    (nextIndex: number) => {\n      onNext(nextIndex);\n      setIndex(nextIndex);\n      const nextRenderables = [...renderables];\n      nextRenderables.push(nextIndex);\n      if (nextRenderables.length > 2) nextRenderables.shift();\n      setRenderables(nextRenderables);\n    },\n    [onNext, renderables]\n  );\n\n  const handleNextClick = useCallback(() => {\n    handleClick(index + 1);\n  }, [handleClick, index]);\n\n  const handlePrevClick = useCallback(() => {\n    handleClick(index - 1);\n  }, [handleClick, index]);\n\n  const handleKeyDown = useCallback(\n    (event: KeyboardEvent) => {\n      switch (event.keyCode) {\n        case 27: // Escape\n          onClose(index);\n          break;\n        case 39: // Right arrow\n          if (!lastFrame) handleNextClick();\n          break;\n        case 37: // Left arrow\n          if (!firstFrame) handlePrevClick();\n          break;\n        // No default\n      }\n    },\n    [firstFrame, handleNextClick, handlePrevClick, index, lastFrame, onClose]\n  );\n\n  useEffect(() => {\n    document.addEventListener('keydown', handleKeyDown);\n    return () => document.removeEventListener('keydown', handleKeyDown);\n  });\n\n  const swipeHandlers = useSwipeable({\n    onSwipedLeft: handleNextClick,\n    onSwipedRight: handlePrevClick,\n    trackMouse: true,\n  });\n\n  return (\n    <Root {...swipeHandlers}>\n      <Buttons\n        onPrev={handlePrevClick}\n        onNext={handleNextClick}\n        onClose={() => onClose(index)}\n        showPrev={!firstFrame}\n        showNext={!lastFrame}\n      />\n      <div className=\"movingPart\" style={carrouselStyle}>\n        {renderables.map((renderableIndex) => (\n          <Item\n            item={items[renderableIndex]}\n            index={renderableIndex}\n            key={renderableIndex}\n          />\n        ))}\n      </div>\n    </Root>\n  );\n};\n\nexport default Carrousel;\n","export default function _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","function replaceClassName(origClass, classToRemove) {\n  return origClass.replace(new RegExp(\"(^|\\\\s)\" + classToRemove + \"(?:\\\\s|$)\", 'g'), '$1').replace(/\\s+/g, ' ').replace(/^\\s*|\\s*$/g, '');\n}\n/**\n * Removes a CSS class from a given element.\n * \n * @param element the element\n * @param className the CSS class name\n */\n\n\nexport default function removeClass(element, className) {\n  if (element.classList) {\n    element.classList.remove(className);\n  } else if (typeof element.className === 'string') {\n    element.className = replaceClassName(element.className, className);\n  } else {\n    element.setAttribute('class', replaceClassName(element.className && element.className.baseVal || '', className));\n  }\n}","export default {\n  disabled: false\n};","import React from 'react';\nexport default React.createContext(null);","export var forceReflow = function forceReflow(node) {\n  return node.scrollTop;\n};","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport config from './config';\nimport { timeoutsShape } from './utils/PropTypes';\nimport TransitionGroupContext from './TransitionGroupContext';\nimport { forceReflow } from './utils/reflow';\nexport var UNMOUNTED = 'unmounted';\nexport var EXITED = 'exited';\nexport var ENTERING = 'entering';\nexport var ENTERED = 'entered';\nexport var EXITING = 'exiting';\n/**\n * The Transition component lets you describe a transition from one component\n * state to another _over time_ with a simple declarative API. Most commonly\n * it's used to animate the mounting and unmounting of a component, but can also\n * be used to describe in-place transition states as well.\n *\n * ---\n *\n * **Note**: `Transition` is a platform-agnostic base component. If you're using\n * transitions in CSS, you'll probably want to use\n * [`CSSTransition`](https://reactcommunity.org/react-transition-group/css-transition)\n * instead. It inherits all the features of `Transition`, but contains\n * additional features necessary to play nice with CSS transitions (hence the\n * name of the component).\n *\n * ---\n *\n * By default the `Transition` component does not alter the behavior of the\n * component it renders, it only tracks \"enter\" and \"exit\" states for the\n * components. It's up to you to give meaning and effect to those states. For\n * example we can add styles to a component when it enters or exits:\n *\n * ```jsx\n * import { Transition } from 'react-transition-group';\n *\n * const duration = 300;\n *\n * const defaultStyle = {\n *   transition: `opacity ${duration}ms ease-in-out`,\n *   opacity: 0,\n * }\n *\n * const transitionStyles = {\n *   entering: { opacity: 1 },\n *   entered:  { opacity: 1 },\n *   exiting:  { opacity: 0 },\n *   exited:  { opacity: 0 },\n * };\n *\n * const Fade = ({ in: inProp }) => (\n *   <Transition in={inProp} timeout={duration}>\n *     {state => (\n *       <div style={{\n *         ...defaultStyle,\n *         ...transitionStyles[state]\n *       }}>\n *         I'm a fade Transition!\n *       </div>\n *     )}\n *   </Transition>\n * );\n * ```\n *\n * There are 4 main states a Transition can be in:\n *  - `'entering'`\n *  - `'entered'`\n *  - `'exiting'`\n *  - `'exited'`\n *\n * Transition state is toggled via the `in` prop. When `true` the component\n * begins the \"Enter\" stage. During this stage, the component will shift from\n * its current transition state, to `'entering'` for the duration of the\n * transition and then to the `'entered'` stage once it's complete. Let's take\n * the following example (we'll use the\n * [useState](https://reactjs.org/docs/hooks-reference.html#usestate) hook):\n *\n * ```jsx\n * function App() {\n *   const [inProp, setInProp] = useState(false);\n *   return (\n *     <div>\n *       <Transition in={inProp} timeout={500}>\n *         {state => (\n *           // ...\n *         )}\n *       </Transition>\n *       <button onClick={() => setInProp(true)}>\n *         Click to Enter\n *       </button>\n *     </div>\n *   );\n * }\n * ```\n *\n * When the button is clicked the component will shift to the `'entering'` state\n * and stay there for 500ms (the value of `timeout`) before it finally switches\n * to `'entered'`.\n *\n * When `in` is `false` the same thing happens except the state moves from\n * `'exiting'` to `'exited'`.\n */\n\nvar Transition = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Transition, _React$Component);\n\n  function Transition(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n    var parentGroup = context; // In the context of a TransitionGroup all enters are really appears\n\n    var appear = parentGroup && !parentGroup.isMounting ? props.enter : props.appear;\n    var initialStatus;\n    _this.appearStatus = null;\n\n    if (props.in) {\n      if (appear) {\n        initialStatus = EXITED;\n        _this.appearStatus = ENTERING;\n      } else {\n        initialStatus = ENTERED;\n      }\n    } else {\n      if (props.unmountOnExit || props.mountOnEnter) {\n        initialStatus = UNMOUNTED;\n      } else {\n        initialStatus = EXITED;\n      }\n    }\n\n    _this.state = {\n      status: initialStatus\n    };\n    _this.nextCallback = null;\n    return _this;\n  }\n\n  Transition.getDerivedStateFromProps = function getDerivedStateFromProps(_ref, prevState) {\n    var nextIn = _ref.in;\n\n    if (nextIn && prevState.status === UNMOUNTED) {\n      return {\n        status: EXITED\n      };\n    }\n\n    return null;\n  } // getSnapshotBeforeUpdate(prevProps) {\n  //   let nextStatus = null\n  //   if (prevProps !== this.props) {\n  //     const { status } = this.state\n  //     if (this.props.in) {\n  //       if (status !== ENTERING && status !== ENTERED) {\n  //         nextStatus = ENTERING\n  //       }\n  //     } else {\n  //       if (status === ENTERING || status === ENTERED) {\n  //         nextStatus = EXITING\n  //       }\n  //     }\n  //   }\n  //   return { nextStatus }\n  // }\n  ;\n\n  var _proto = Transition.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.updateStatus(true, this.appearStatus);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var nextStatus = null;\n\n    if (prevProps !== this.props) {\n      var status = this.state.status;\n\n      if (this.props.in) {\n        if (status !== ENTERING && status !== ENTERED) {\n          nextStatus = ENTERING;\n        }\n      } else {\n        if (status === ENTERING || status === ENTERED) {\n          nextStatus = EXITING;\n        }\n      }\n    }\n\n    this.updateStatus(false, nextStatus);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.cancelNextCallback();\n  };\n\n  _proto.getTimeouts = function getTimeouts() {\n    var timeout = this.props.timeout;\n    var exit, enter, appear;\n    exit = enter = appear = timeout;\n\n    if (timeout != null && typeof timeout !== 'number') {\n      exit = timeout.exit;\n      enter = timeout.enter; // TODO: remove fallback for next major\n\n      appear = timeout.appear !== undefined ? timeout.appear : enter;\n    }\n\n    return {\n      exit: exit,\n      enter: enter,\n      appear: appear\n    };\n  };\n\n  _proto.updateStatus = function updateStatus(mounting, nextStatus) {\n    if (mounting === void 0) {\n      mounting = false;\n    }\n\n    if (nextStatus !== null) {\n      // nextStatus will always be ENTERING or EXITING.\n      this.cancelNextCallback();\n\n      if (nextStatus === ENTERING) {\n        if (this.props.unmountOnExit || this.props.mountOnEnter) {\n          var node = this.props.nodeRef ? this.props.nodeRef.current : ReactDOM.findDOMNode(this); // https://github.com/reactjs/react-transition-group/pull/749\n          // With unmountOnExit or mountOnEnter, the enter animation should happen at the transition between `exited` and `entering`.\n          // To make the animation happen,  we have to separate each rendering and avoid being processed as batched.\n\n          if (node) forceReflow(node);\n        }\n\n        this.performEnter(mounting);\n      } else {\n        this.performExit();\n      }\n    } else if (this.props.unmountOnExit && this.state.status === EXITED) {\n      this.setState({\n        status: UNMOUNTED\n      });\n    }\n  };\n\n  _proto.performEnter = function performEnter(mounting) {\n    var _this2 = this;\n\n    var enter = this.props.enter;\n    var appearing = this.context ? this.context.isMounting : mounting;\n\n    var _ref2 = this.props.nodeRef ? [appearing] : [ReactDOM.findDOMNode(this), appearing],\n        maybeNode = _ref2[0],\n        maybeAppearing = _ref2[1];\n\n    var timeouts = this.getTimeouts();\n    var enterTimeout = appearing ? timeouts.appear : timeouts.enter; // no enter animation skip right to ENTERED\n    // if we are mounting and running this it means appear _must_ be set\n\n    if (!mounting && !enter || config.disabled) {\n      this.safeSetState({\n        status: ENTERED\n      }, function () {\n        _this2.props.onEntered(maybeNode);\n      });\n      return;\n    }\n\n    this.props.onEnter(maybeNode, maybeAppearing);\n    this.safeSetState({\n      status: ENTERING\n    }, function () {\n      _this2.props.onEntering(maybeNode, maybeAppearing);\n\n      _this2.onTransitionEnd(enterTimeout, function () {\n        _this2.safeSetState({\n          status: ENTERED\n        }, function () {\n          _this2.props.onEntered(maybeNode, maybeAppearing);\n        });\n      });\n    });\n  };\n\n  _proto.performExit = function performExit() {\n    var _this3 = this;\n\n    var exit = this.props.exit;\n    var timeouts = this.getTimeouts();\n    var maybeNode = this.props.nodeRef ? undefined : ReactDOM.findDOMNode(this); // no exit animation skip right to EXITED\n\n    if (!exit || config.disabled) {\n      this.safeSetState({\n        status: EXITED\n      }, function () {\n        _this3.props.onExited(maybeNode);\n      });\n      return;\n    }\n\n    this.props.onExit(maybeNode);\n    this.safeSetState({\n      status: EXITING\n    }, function () {\n      _this3.props.onExiting(maybeNode);\n\n      _this3.onTransitionEnd(timeouts.exit, function () {\n        _this3.safeSetState({\n          status: EXITED\n        }, function () {\n          _this3.props.onExited(maybeNode);\n        });\n      });\n    });\n  };\n\n  _proto.cancelNextCallback = function cancelNextCallback() {\n    if (this.nextCallback !== null) {\n      this.nextCallback.cancel();\n      this.nextCallback = null;\n    }\n  };\n\n  _proto.safeSetState = function safeSetState(nextState, callback) {\n    // This shouldn't be necessary, but there are weird race conditions with\n    // setState callbacks and unmounting in testing, so always make sure that\n    // we can cancel any pending setState callbacks after we unmount.\n    callback = this.setNextCallback(callback);\n    this.setState(nextState, callback);\n  };\n\n  _proto.setNextCallback = function setNextCallback(callback) {\n    var _this4 = this;\n\n    var active = true;\n\n    this.nextCallback = function (event) {\n      if (active) {\n        active = false;\n        _this4.nextCallback = null;\n        callback(event);\n      }\n    };\n\n    this.nextCallback.cancel = function () {\n      active = false;\n    };\n\n    return this.nextCallback;\n  };\n\n  _proto.onTransitionEnd = function onTransitionEnd(timeout, handler) {\n    this.setNextCallback(handler);\n    var node = this.props.nodeRef ? this.props.nodeRef.current : ReactDOM.findDOMNode(this);\n    var doesNotHaveTimeoutOrListener = timeout == null && !this.props.addEndListener;\n\n    if (!node || doesNotHaveTimeoutOrListener) {\n      setTimeout(this.nextCallback, 0);\n      return;\n    }\n\n    if (this.props.addEndListener) {\n      var _ref3 = this.props.nodeRef ? [this.nextCallback] : [node, this.nextCallback],\n          maybeNode = _ref3[0],\n          maybeNextCallback = _ref3[1];\n\n      this.props.addEndListener(maybeNode, maybeNextCallback);\n    }\n\n    if (timeout != null) {\n      setTimeout(this.nextCallback, timeout);\n    }\n  };\n\n  _proto.render = function render() {\n    var status = this.state.status;\n\n    if (status === UNMOUNTED) {\n      return null;\n    }\n\n    var _this$props = this.props,\n        children = _this$props.children,\n        _in = _this$props.in,\n        _mountOnEnter = _this$props.mountOnEnter,\n        _unmountOnExit = _this$props.unmountOnExit,\n        _appear = _this$props.appear,\n        _enter = _this$props.enter,\n        _exit = _this$props.exit,\n        _timeout = _this$props.timeout,\n        _addEndListener = _this$props.addEndListener,\n        _onEnter = _this$props.onEnter,\n        _onEntering = _this$props.onEntering,\n        _onEntered = _this$props.onEntered,\n        _onExit = _this$props.onExit,\n        _onExiting = _this$props.onExiting,\n        _onExited = _this$props.onExited,\n        _nodeRef = _this$props.nodeRef,\n        childProps = _objectWithoutPropertiesLoose(_this$props, [\"children\", \"in\", \"mountOnEnter\", \"unmountOnExit\", \"appear\", \"enter\", \"exit\", \"timeout\", \"addEndListener\", \"onEnter\", \"onEntering\", \"onEntered\", \"onExit\", \"onExiting\", \"onExited\", \"nodeRef\"]);\n\n    return (\n      /*#__PURE__*/\n      // allows for nested Transitions\n      React.createElement(TransitionGroupContext.Provider, {\n        value: null\n      }, typeof children === 'function' ? children(status, childProps) : React.cloneElement(React.Children.only(children), childProps))\n    );\n  };\n\n  return Transition;\n}(React.Component);\n\nTransition.contextType = TransitionGroupContext;\nTransition.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /**\n   * A React reference to DOM element that need to transition:\n   * https://stackoverflow.com/a/51127130/4671932\n   *\n   *   - When `nodeRef` prop is used, `node` is not passed to callback functions\n   *      (e.g. `onEnter`) because user already has direct access to the node.\n   *   - When changing `key` prop of `Transition` in a `TransitionGroup` a new\n   *     `nodeRef` need to be provided to `Transition` with changed `key` prop\n   *     (see\n   *     [test/CSSTransition-test.js](https://github.com/reactjs/react-transition-group/blob/13435f897b3ab71f6e19d724f145596f5910581c/test/CSSTransition-test.js#L362-L437)).\n   */\n  nodeRef: PropTypes.shape({\n    current: typeof Element === 'undefined' ? PropTypes.any : function (propValue, key, componentName, location, propFullName, secret) {\n      var value = propValue[key];\n      return PropTypes.instanceOf(value && 'ownerDocument' in value ? value.ownerDocument.defaultView.Element : Element)(propValue, key, componentName, location, propFullName, secret);\n    }\n  }),\n\n  /**\n   * A `function` child can be used instead of a React element. This function is\n   * called with the current transition status (`'entering'`, `'entered'`,\n   * `'exiting'`, `'exited'`), which can be used to apply context\n   * specific props to a component.\n   *\n   * ```jsx\n   * <Transition in={this.state.in} timeout={150}>\n   *   {state => (\n   *     <MyComponent className={`fade fade-${state}`} />\n   *   )}\n   * </Transition>\n   * ```\n   */\n  children: PropTypes.oneOfType([PropTypes.func.isRequired, PropTypes.element.isRequired]).isRequired,\n\n  /**\n   * Show the component; triggers the enter or exit states\n   */\n  in: PropTypes.bool,\n\n  /**\n   * By default the child component is mounted immediately along with\n   * the parent `Transition` component. If you want to \"lazy mount\" the component on the\n   * first `in={true}` you can set `mountOnEnter`. After the first enter transition the component will stay\n   * mounted, even on \"exited\", unless you also specify `unmountOnExit`.\n   */\n  mountOnEnter: PropTypes.bool,\n\n  /**\n   * By default the child component stays mounted after it reaches the `'exited'` state.\n   * Set `unmountOnExit` if you'd prefer to unmount the component after it finishes exiting.\n   */\n  unmountOnExit: PropTypes.bool,\n\n  /**\n   * By default the child component does not perform the enter transition when\n   * it first mounts, regardless of the value of `in`. If you want this\n   * behavior, set both `appear` and `in` to `true`.\n   *\n   * > **Note**: there are no special appear states like `appearing`/`appeared`, this prop\n   * > only adds an additional enter transition. However, in the\n   * > `<CSSTransition>` component that first enter transition does result in\n   * > additional `.appear-*` classes, that way you can choose to style it\n   * > differently.\n   */\n  appear: PropTypes.bool,\n\n  /**\n   * Enable or disable enter transitions.\n   */\n  enter: PropTypes.bool,\n\n  /**\n   * Enable or disable exit transitions.\n   */\n  exit: PropTypes.bool,\n\n  /**\n   * The duration of the transition, in milliseconds.\n   * Required unless `addEndListener` is provided.\n   *\n   * You may specify a single timeout for all transitions:\n   *\n   * ```jsx\n   * timeout={500}\n   * ```\n   *\n   * or individually:\n   *\n   * ```jsx\n   * timeout={{\n   *  appear: 500,\n   *  enter: 300,\n   *  exit: 500,\n   * }}\n   * ```\n   *\n   * - `appear` defaults to the value of `enter`\n   * - `enter` defaults to `0`\n   * - `exit` defaults to `0`\n   *\n   * @type {number | { enter?: number, exit?: number, appear?: number }}\n   */\n  timeout: function timeout(props) {\n    var pt = timeoutsShape;\n    if (!props.addEndListener) pt = pt.isRequired;\n\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    return pt.apply(void 0, [props].concat(args));\n  },\n\n  /**\n   * Add a custom transition end trigger. Called with the transitioning\n   * DOM node and a `done` callback. Allows for more fine grained transition end\n   * logic. Timeouts are still used as a fallback if provided.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * ```jsx\n   * addEndListener={(node, done) => {\n   *   // use the css transitionend event to mark the finish of a transition\n   *   node.addEventListener('transitionend', done, false);\n   * }}\n   * ```\n   */\n  addEndListener: PropTypes.func,\n\n  /**\n   * Callback fired before the \"entering\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool) -> void\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * Callback fired after the \"entering\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * Callback fired after the \"entered\" status is applied. An extra parameter\n   * `isAppearing` is supplied to indicate if the enter stage is occurring on the initial mount\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool) -> void\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * Callback fired before the \"exiting\" status is applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * Callback fired after the \"exiting\" status is applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * Callback fired after the \"exited\" status is applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed\n   *\n   * @type Function(node: HtmlElement) -> void\n   */\n  onExited: PropTypes.func\n} : {}; // Name the function so it is clearer in the documentation\n\nfunction noop() {}\n\nTransition.defaultProps = {\n  in: false,\n  mountOnEnter: false,\n  unmountOnExit: false,\n  appear: false,\n  enter: true,\n  exit: true,\n  onEnter: noop,\n  onEntering: noop,\n  onEntered: noop,\n  onExit: noop,\n  onExiting: noop,\n  onExited: noop\n};\nTransition.UNMOUNTED = UNMOUNTED;\nTransition.EXITED = EXITED;\nTransition.ENTERING = ENTERING;\nTransition.ENTERED = ENTERED;\nTransition.EXITING = EXITING;\nexport default Transition;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport PropTypes from 'prop-types';\nimport addOneClass from 'dom-helpers/addClass';\nimport removeOneClass from 'dom-helpers/removeClass';\nimport React from 'react';\nimport Transition from './Transition';\nimport { classNamesShape } from './utils/PropTypes';\nimport { forceReflow } from './utils/reflow';\n\nvar _addClass = function addClass(node, classes) {\n  return node && classes && classes.split(' ').forEach(function (c) {\n    return addOneClass(node, c);\n  });\n};\n\nvar removeClass = function removeClass(node, classes) {\n  return node && classes && classes.split(' ').forEach(function (c) {\n    return removeOneClass(node, c);\n  });\n};\n/**\n * A transition component inspired by the excellent\n * [ng-animate](https://docs.angularjs.org/api/ngAnimate) library, you should\n * use it if you're using CSS transitions or animations. It's built upon the\n * [`Transition`](https://reactcommunity.org/react-transition-group/transition)\n * component, so it inherits all of its props.\n *\n * `CSSTransition` applies a pair of class names during the `appear`, `enter`,\n * and `exit` states of the transition. The first class is applied and then a\n * second `*-active` class in order to activate the CSS transition. After the\n * transition, matching `*-done` class names are applied to persist the\n * transition state.\n *\n * ```jsx\n * function App() {\n *   const [inProp, setInProp] = useState(false);\n *   return (\n *     <div>\n *       <CSSTransition in={inProp} timeout={200} classNames=\"my-node\">\n *         <div>\n *           {\"I'll receive my-node-* classes\"}\n *         </div>\n *       </CSSTransition>\n *       <button type=\"button\" onClick={() => setInProp(true)}>\n *         Click to Enter\n *       </button>\n *     </div>\n *   );\n * }\n * ```\n *\n * When the `in` prop is set to `true`, the child component will first receive\n * the class `example-enter`, then the `example-enter-active` will be added in\n * the next tick. `CSSTransition` [forces a\n * reflow](https://github.com/reactjs/react-transition-group/blob/5007303e729a74be66a21c3e2205e4916821524b/src/CSSTransition.js#L208-L215)\n * between before adding the `example-enter-active`. This is an important trick\n * because it allows us to transition between `example-enter` and\n * `example-enter-active` even though they were added immediately one after\n * another. Most notably, this is what makes it possible for us to animate\n * _appearance_.\n *\n * ```css\n * .my-node-enter {\n *   opacity: 0;\n * }\n * .my-node-enter-active {\n *   opacity: 1;\n *   transition: opacity 200ms;\n * }\n * .my-node-exit {\n *   opacity: 1;\n * }\n * .my-node-exit-active {\n *   opacity: 0;\n *   transition: opacity 200ms;\n * }\n * ```\n *\n * `*-active` classes represent which styles you want to animate **to**, so it's\n * important to add `transition` declaration only to them, otherwise transitions\n * might not behave as intended! This might not be obvious when the transitions\n * are symmetrical, i.e. when `*-enter-active` is the same as `*-exit`, like in\n * the example above (minus `transition`), but it becomes apparent in more\n * complex transitions.\n *\n * **Note**: If you're using the\n * [`appear`](http://reactcommunity.org/react-transition-group/transition#Transition-prop-appear)\n * prop, make sure to define styles for `.appear-*` classes as well.\n */\n\n\nvar CSSTransition = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(CSSTransition, _React$Component);\n\n  function CSSTransition() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n    _this.appliedClasses = {\n      appear: {},\n      enter: {},\n      exit: {}\n    };\n\n    _this.onEnter = function (maybeNode, maybeAppearing) {\n      var _this$resolveArgument = _this.resolveArguments(maybeNode, maybeAppearing),\n          node = _this$resolveArgument[0],\n          appearing = _this$resolveArgument[1];\n\n      _this.removeClasses(node, 'exit');\n\n      _this.addClass(node, appearing ? 'appear' : 'enter', 'base');\n\n      if (_this.props.onEnter) {\n        _this.props.onEnter(maybeNode, maybeAppearing);\n      }\n    };\n\n    _this.onEntering = function (maybeNode, maybeAppearing) {\n      var _this$resolveArgument2 = _this.resolveArguments(maybeNode, maybeAppearing),\n          node = _this$resolveArgument2[0],\n          appearing = _this$resolveArgument2[1];\n\n      var type = appearing ? 'appear' : 'enter';\n\n      _this.addClass(node, type, 'active');\n\n      if (_this.props.onEntering) {\n        _this.props.onEntering(maybeNode, maybeAppearing);\n      }\n    };\n\n    _this.onEntered = function (maybeNode, maybeAppearing) {\n      var _this$resolveArgument3 = _this.resolveArguments(maybeNode, maybeAppearing),\n          node = _this$resolveArgument3[0],\n          appearing = _this$resolveArgument3[1];\n\n      var type = appearing ? 'appear' : 'enter';\n\n      _this.removeClasses(node, type);\n\n      _this.addClass(node, type, 'done');\n\n      if (_this.props.onEntered) {\n        _this.props.onEntered(maybeNode, maybeAppearing);\n      }\n    };\n\n    _this.onExit = function (maybeNode) {\n      var _this$resolveArgument4 = _this.resolveArguments(maybeNode),\n          node = _this$resolveArgument4[0];\n\n      _this.removeClasses(node, 'appear');\n\n      _this.removeClasses(node, 'enter');\n\n      _this.addClass(node, 'exit', 'base');\n\n      if (_this.props.onExit) {\n        _this.props.onExit(maybeNode);\n      }\n    };\n\n    _this.onExiting = function (maybeNode) {\n      var _this$resolveArgument5 = _this.resolveArguments(maybeNode),\n          node = _this$resolveArgument5[0];\n\n      _this.addClass(node, 'exit', 'active');\n\n      if (_this.props.onExiting) {\n        _this.props.onExiting(maybeNode);\n      }\n    };\n\n    _this.onExited = function (maybeNode) {\n      var _this$resolveArgument6 = _this.resolveArguments(maybeNode),\n          node = _this$resolveArgument6[0];\n\n      _this.removeClasses(node, 'exit');\n\n      _this.addClass(node, 'exit', 'done');\n\n      if (_this.props.onExited) {\n        _this.props.onExited(maybeNode);\n      }\n    };\n\n    _this.resolveArguments = function (maybeNode, maybeAppearing) {\n      return _this.props.nodeRef ? [_this.props.nodeRef.current, maybeNode] // here `maybeNode` is actually `appearing`\n      : [maybeNode, maybeAppearing];\n    };\n\n    _this.getClassNames = function (type) {\n      var classNames = _this.props.classNames;\n      var isStringClassNames = typeof classNames === 'string';\n      var prefix = isStringClassNames && classNames ? classNames + \"-\" : '';\n      var baseClassName = isStringClassNames ? \"\" + prefix + type : classNames[type];\n      var activeClassName = isStringClassNames ? baseClassName + \"-active\" : classNames[type + \"Active\"];\n      var doneClassName = isStringClassNames ? baseClassName + \"-done\" : classNames[type + \"Done\"];\n      return {\n        baseClassName: baseClassName,\n        activeClassName: activeClassName,\n        doneClassName: doneClassName\n      };\n    };\n\n    return _this;\n  }\n\n  var _proto = CSSTransition.prototype;\n\n  _proto.addClass = function addClass(node, type, phase) {\n    var className = this.getClassNames(type)[phase + \"ClassName\"];\n\n    var _this$getClassNames = this.getClassNames('enter'),\n        doneClassName = _this$getClassNames.doneClassName;\n\n    if (type === 'appear' && phase === 'done' && doneClassName) {\n      className += \" \" + doneClassName;\n    } // This is to force a repaint,\n    // which is necessary in order to transition styles when adding a class name.\n\n\n    if (phase === 'active') {\n      if (node) forceReflow(node);\n    }\n\n    if (className) {\n      this.appliedClasses[type][phase] = className;\n\n      _addClass(node, className);\n    }\n  };\n\n  _proto.removeClasses = function removeClasses(node, type) {\n    var _this$appliedClasses$ = this.appliedClasses[type],\n        baseClassName = _this$appliedClasses$.base,\n        activeClassName = _this$appliedClasses$.active,\n        doneClassName = _this$appliedClasses$.done;\n    this.appliedClasses[type] = {};\n\n    if (baseClassName) {\n      removeClass(node, baseClassName);\n    }\n\n    if (activeClassName) {\n      removeClass(node, activeClassName);\n    }\n\n    if (doneClassName) {\n      removeClass(node, doneClassName);\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        _ = _this$props.classNames,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"classNames\"]);\n\n    return /*#__PURE__*/React.createElement(Transition, _extends({}, props, {\n      onEnter: this.onEnter,\n      onEntered: this.onEntered,\n      onEntering: this.onEntering,\n      onExit: this.onExit,\n      onExiting: this.onExiting,\n      onExited: this.onExited\n    }));\n  };\n\n  return CSSTransition;\n}(React.Component);\n\nCSSTransition.defaultProps = {\n  classNames: ''\n};\nCSSTransition.propTypes = process.env.NODE_ENV !== \"production\" ? _extends({}, Transition.propTypes, {\n  /**\n   * The animation classNames applied to the component as it appears, enters,\n   * exits or has finished the transition. A single name can be provided, which\n   * will be suffixed for each stage, e.g. `classNames=\"fade\"` applies:\n   *\n   * - `fade-appear`, `fade-appear-active`, `fade-appear-done`\n   * - `fade-enter`, `fade-enter-active`, `fade-enter-done`\n   * - `fade-exit`, `fade-exit-active`, `fade-exit-done`\n   *\n   * A few details to note about how these classes are applied:\n   *\n   * 1. They are _joined_ with the ones that are already defined on the child\n   *    component, so if you want to add some base styles, you can use\n   *    `className` without worrying that it will be overridden.\n   *\n   * 2. If the transition component mounts with `in={false}`, no classes are\n   *    applied yet. You might be expecting `*-exit-done`, but if you think\n   *    about it, a component cannot finish exiting if it hasn't entered yet.\n   *\n   * 2. `fade-appear-done` and `fade-enter-done` will _both_ be applied. This\n   *    allows you to define different behavior for when appearing is done and\n   *    when regular entering is done, using selectors like\n   *    `.fade-enter-done:not(.fade-appear-done)`. For example, you could apply\n   *    an epic entrance animation when element first appears in the DOM using\n   *    [Animate.css](https://daneden.github.io/animate.css/). Otherwise you can\n   *    simply use `fade-enter-done` for defining both cases.\n   *\n   * Each individual classNames can also be specified independently like:\n   *\n   * ```js\n   * classNames={{\n   *  appear: 'my-appear',\n   *  appearActive: 'my-active-appear',\n   *  appearDone: 'my-done-appear',\n   *  enter: 'my-enter',\n   *  enterActive: 'my-active-enter',\n   *  enterDone: 'my-done-enter',\n   *  exit: 'my-exit',\n   *  exitActive: 'my-active-exit',\n   *  exitDone: 'my-done-exit',\n   * }}\n   * ```\n   *\n   * If you want to set these classes using CSS Modules:\n   *\n   * ```js\n   * import styles from './styles.css';\n   * ```\n   *\n   * you might want to use camelCase in your CSS file, that way could simply\n   * spread them instead of listing them one by one:\n   *\n   * ```js\n   * classNames={{ ...styles }}\n   * ```\n   *\n   * @type {string | {\n   *  appear?: string,\n   *  appearActive?: string,\n   *  appearDone?: string,\n   *  enter?: string,\n   *  enterActive?: string,\n   *  enterDone?: string,\n   *  exit?: string,\n   *  exitActive?: string,\n   *  exitDone?: string,\n   * }}\n   */\n  classNames: classNamesShape,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'enter' or 'appear' class is\n   * applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEnter: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'enter-active' or\n   * 'appear-active' class is applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEntering: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'enter' or\n   * 'appear' classes are **removed** and the `done` class is added to the DOM node.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed.\n   *\n   * @type Function(node: HtmlElement, isAppearing: bool)\n   */\n  onEntered: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'exit' class is\n   * applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed\n   *\n   * @type Function(node: HtmlElement)\n   */\n  onExit: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'exit-active' is applied.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed\n   *\n   * @type Function(node: HtmlElement)\n   */\n  onExiting: PropTypes.func,\n\n  /**\n   * A `<Transition>` callback fired immediately after the 'exit' classes\n   * are **removed** and the `exit-done` class is added to the DOM node.\n   *\n   * **Note**: when `nodeRef` prop is passed, `node` is not passed\n   *\n   * @type Function(node: HtmlElement)\n   */\n  onExited: PropTypes.func\n}) : {};\nexport default CSSTransition;","import hasClass from './hasClass';\n/**\n * Adds a CSS class to a given element.\n * \n * @param element the element\n * @param className the CSS class name\n */\n\nexport default function addClass(element, className) {\n  if (element.classList) element.classList.add(className);else if (!hasClass(element, className)) if (typeof element.className === 'string') element.className = element.className + \" \" + className;else element.setAttribute('class', (element.className && element.className.baseVal || '') + \" \" + className);\n}","/**\n * Checks if a given element has a CSS class.\n * \n * @param element the element\n * @param className the CSS class name\n */\nexport default function hasClass(element, className) {\n  if (element.classList) return !!className && element.classList.contains(className);\n  return (\" \" + (element.className.baseVal || element.className) + \" \").indexOf(\" \" + className + \" \") !== -1;\n}","import React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\n\nconst Portal = ({\n  children,\n  zIndex = 100,\n  position = 'absolute',\n}: React.PropsWithChildren<{\n  zIndex?: number;\n  position?: 'absolute' | 'relative';\n}>) => {\n  const [container, setContainer] = useState<any>(null);\n\n  useEffect(() => setContainer(document.createElement('div')), []);\n\n  useEffect(() => {\n    if (container) {\n      container.style.position = position;\n      container.style.zIndex = zIndex;\n      document.body.appendChild(container);\n    }\n    return () => {\n      if (container) document.body.removeChild(container);\n    };\n  }, [container, position, zIndex]);\n\n  return container ? ReactDOM.createPortal(children, container) : null;\n};\n\nexport default Portal;\n","import React from 'react';\nimport { CSSTransition } from 'react-transition-group';\nimport { bool, node, func } from 'prop-types';\nimport styled from 'styled-components';\nimport Portal from '@packages/Portal';\n\nconst Modal = styled.div`\n  bottom: 0;\n  left: 0;\n  position: fixed;\n  right: 0;\n  top: 0;\n  transform: translate3d(0, 100vh, 0);\n  transition: 0.3s;\n\n  &.VMG__Modal--enter {\n    transform: translate3d(0, 100vh, 0);\n  }\n  &.VMG__Modal--enter-done {\n    transform: translate3d(0, 0, 0);\n  }\n  &.VMG__Modal--exit {\n    transform: translate3d(0, 0, 0);\n  }\n  &.VMG__Modal--exit-done {\n    transform: translate3d(0, 100vh, 0);\n  }\n`;\n\nconst Layout = ({ children, modal, onUnmountModal, showModal }) => (\n  <>\n    {children}\n\n    <CSSTransition\n      in={showModal}\n      timeout={0}\n      classNames=\"VMG__Modal-\"\n      onExited={onUnmountModal}\n    >\n      <Portal>\n        <Modal className=\"VMG__Modal\">{modal}</Modal>\n      </Portal>\n    </CSSTransition>\n  </>\n);\n\nLayout.propTypes = {\n  children: node.isRequired,\n  modal: node,\n  onUnmountModal: func.isRequired,\n  showModal: bool.isRequired,\n};\n\nLayout.defaultProps = {\n  modal: null,\n};\n\nexport default Layout;\n","import React from 'react';\nimport styled from 'styled-components';\n\n// https://codepen.io/aurer/pen/jEGbA\nconst svg =\n  '<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"40px\" height=\"40px\" viewBox=\"0 0 50 50\"><path fill=\"#000\" d=\"M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z\"><animateTransform attributeType=\"xml\" attributeName=\"transform\" type=\"rotate\" from=\"0 25 25\" to=\"360 25 25\" dur=\"0.6s\" repeatCount=\"indefinite\"/></path></svg>';\n\nconst LoadingStyled = styled.div`\n  background-image: url('data:image/svg+xml;utf8,${encodeURIComponent(svg)}');\n  background-position: center;\n  background-repeat: no-repeat;\n  min-height: 200px;\n`;\n\nconst Loading = () => <LoadingStyled className=\"VMG__Loading\" />;\n\nexport default Loading;\n","import { useMemo } from 'react';\nimport { PositionType } from '@packages/Gallery/models/LayoutCache';\nimport { useWindowSize, useScroll } from '../hooks';\n\nconst getVisibleItems = (\n  renderedItems: JSX.Element[],\n  positions: PositionType[],\n  windowHeight: number,\n  scrollTop: number\n): JSX.Element[] => {\n  const visibleItems = [] as JSX.Element[];\n\n  positions.forEach((position, key) => {\n    if (\n      position.top + position.height > scrollTop - 200 &&\n      position.top < scrollTop + windowHeight + 200\n    ) {\n      visibleItems.push(renderedItems[key]);\n    }\n  });\n\n  return visibleItems;\n};\n\nconst useVisibleItems = (\n  renderedItems: JSX.Element[],\n  positions: PositionType[]\n): JSX.Element[] => {\n  const { height: windowHeight = 0 } = useWindowSize();\n  const { y: scrollTop } = useScroll();\n\n  return useMemo(\n    () =>\n      renderedItems.length\n        ? getVisibleItems(renderedItems, positions, windowHeight, scrollTop)\n        : [],\n    [positions, renderedItems, scrollTop, windowHeight]\n  );\n};\n\nexport default useVisibleItems;\n","import React, { useMemo } from 'react';\nimport styled from 'styled-components';\nimport { PositionType } from '@packages/Gallery/models/LayoutCache';\nimport useVisibleItems from './useVisibleItems';\n\nconst Root = styled.div`\n  position: relative;\n`;\n\nconst Masonry = ({\n  positions,\n  height,\n  itemRendererFn,\n}: {\n  positions: PositionType[];\n  height: number;\n  itemRendererFn: (index: number) => any;\n}) => {\n  const renderedItems = useMemo(\n    () => positions.map((_, index) => itemRendererFn(index)),\n    [itemRendererFn, positions]\n  );\n\n  const visibleItems = useVisibleItems(renderedItems, positions);\n\n  const style = useMemo(() => ({ height }), [height]);\n\n  return (\n    <Root className=\"VMG__Masonry\" style={style}>\n      {visibleItems}\n    </Root>\n  );\n};\n\nexport default Masonry;\n","import { useMemo } from 'react';\nimport { ItemType } from 'models/Item';\nimport { getRatio } from '@packages/Gallery/utils';\nimport { LayoutCache } from '../models/LayoutCache';\n\nconst MAX_COLUMN_WIDTH = 200;\nconst GUTTER = 16;\nconst LEFT = 0;\n\nfunction getLayout(containerWidth: number) {\n  const columnCount = Math.ceil(containerWidth / MAX_COLUMN_WIDTH);\n  const columnWidth =\n    (containerWidth - (columnCount - 1) * GUTTER - LEFT) / columnCount;\n  return {\n    columnCount,\n    columnWidth,\n  };\n}\n\nfunction getHighestBottom(bottoms: number[]) {\n  return Math.min(...bottoms);\n}\n\nfunction getColumn(bottoms: number[], bottom: number) {\n  return bottoms.indexOf(bottom);\n}\n\nfunction calculateLeft(column: number, columnWidth: number) {\n  return column * columnWidth + column * GUTTER + LEFT;\n}\n\nfunction calculateNextBottom(bottom: number, height: number) {\n  return bottom + height + GUTTER;\n}\n\nfunction calculateMasonry(items: ItemType[], containerWidth: number): LayoutCache {\n  const { columnCount, columnWidth } = getLayout(containerWidth);\n  const bottoms = Array.from({ length: columnCount }, () => 0);\n  const layoutCache = { positions: [], containerHeight: 0 } as LayoutCache;\n\n  let column = 1;\n  let bottom;\n  let ratio;\n  let containerHeight = 0;\n  let nextBottom;\n  let height;\n\n  for (let i = 0; i < items.length; i++) {\n    ratio = getRatio(items[i]);\n    bottom = getHighestBottom(bottoms);\n    column = getColumn(bottoms, bottom);\n    height = columnWidth / ratio;\n\n    layoutCache.positions.push({\n      left: calculateLeft(column, columnWidth),\n      top: bottom,\n      width: columnWidth,\n      height,\n    });\n\n    nextBottom = calculateNextBottom(bottom, height);\n    bottoms[column] = nextBottom;\n    containerHeight = Math.max(containerHeight, nextBottom);\n  }\n\n  layoutCache.containerHeight = containerHeight;\n\n  return layoutCache;\n}\n\nconst useMasonry = (items: ItemType[], containerWidth: number) => {\n  return useMemo(\n    (): LayoutCache => calculateMasonry(items, containerWidth),\n    [containerWidth, items]\n  );\n};\n\nexport default useMasonry;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { useCallback } from 'react';\nimport useDimensions from 'react-cool-dimensions';\nimport { useMatch } from '@reach/router';\nimport { navigate } from 'gatsby';\nimport { ItemType } from 'models/Item';\nimport styled from 'styled-components';\nimport Carrousel from './components/Carrousel';\nimport Layout from './components/Layout';\nimport Loading from './components/Loading';\nimport Masonry from './components/Masonry';\nimport Picture from './components/Picture/Picture';\nimport useMasonry from './hooks/useMasonry';\n\nconst MasonryItem = styled.div`\n  position: absolute;\n\n  & img {\n    cursor: pointer;\n  }\n`;\n\nconst Gallery = ({ items }: { items: ItemType[] }) => {\n  const [fullView, setFullView] = useState<number | null>(null);\n  const [showFullView, setShowFullView] = useState(false);\n  const { paramItemId } = useMatch('/item/:paramItemId') ?? ({} as any);\n  const { paramTag } = useMatch('/tag/:paramTag') ?? ({} as any);\n  const { observe: containerRef, width: containerWidth } = useDimensions();\n  const layoutCache = useMasonry(items, containerWidth);\n\n  const parentLocation = useRef<string>('/');\n\n  useEffect(() => {\n    if (paramItemId) {\n      setShowFullView(true);\n    }\n    if (paramTag) {\n      setShowFullView(false);\n    }\n  }, [paramItemId, paramTag]);\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [items]);\n\n  useEffect(() => {\n    if (items.length && paramItemId) {\n      const index = items.findIndex((item) => item.id === paramItemId);\n      setFullView(index !== -1 ? index : null);\n    }\n  }, [items, paramItemId]);\n\n  const handleItemClick = useCallback(\n    (index: number) => {\n      parentLocation.current = window.location.pathname;\n      navigate(`/item/${items[index]?.id}`);\n      setFullView(index);\n      setShowFullView(true);\n    },\n    [items]\n  );\n\n  const handleHideFullView = useCallback(\n    async (index: number) => {\n      await navigate(parentLocation.current);\n      window.scrollTo(0, layoutCache.positions[index]?.top - 100);\n      setShowFullView(false);\n    },\n    [layoutCache.positions]\n  );\n\n  const handleUnmountFullView = () => {\n    setTimeout(() => setFullView(null), 1000);\n  };\n\n  const handleNext = useCallback(\n    (index: number) => {\n      navigate(`/item/${items[index]?.id}`);\n    },\n    [items]\n  );\n\n  const itemRendererFn = useCallback(\n    (index: number) => {\n      const position = layoutCache.positions[index];\n      const item = items[index];\n\n      return (\n        <MasonryItem\n          key={item.id}\n          style={position}\n          onClick={() => handleItemClick(index)}\n          role=\"button\"\n          id={item.id}\n        >\n          <Picture item={item} size={layoutCache.positions[index]} />\n        </MasonryItem>\n      );\n    },\n    [handleItemClick, items, layoutCache.positions]\n  );\n\n  const modal =\n    fullView != null ? (\n      <Carrousel\n        items={items}\n        index={fullView}\n        onClose={handleHideFullView}\n        onNext={handleNext}\n      />\n    ) : null;\n\n  return (\n    <div className=\"VMG\">\n      {items ? (\n        <Layout\n          modal={modal}\n          onUnmountModal={handleUnmountFullView}\n          showModal={showFullView}\n        >\n          {items.length > 0 && (\n            <div ref={containerRef}>\n              <Masonry\n                itemRendererFn={itemRendererFn}\n                positions={layoutCache.positions}\n                height={layoutCache.containerHeight}\n              />\n            </div>\n          )}\n        </Layout>\n      ) : (\n        <Loading />\n      )}\n    </div>\n  );\n};\n\nexport default Gallery;\n","export enum TaxonomyTypes {\n  CATEGORY,\n  TAG,\n}\n","import { Category } from 'models/Category';\nimport useData from './useData';\n\nconst useCategories = (): Category[] => {\n  const { categories } = useData();\n\n  return categories || [];\n};\n\nexport default useCategories;\n","import { useEffect, useState } from 'react';\nimport { useMatch } from '@reach/router';\nimport { TaxonomyTypes } from 'models/Taxonomy';\n\nconst useTaxonomy = () => {\n  const categoryMatch = useMatch('/category/:category');\n  const tagMatch = useMatch('/tag/:tag');\n  const itemMatch = useMatch('/item/:item');\n\n  const [taxonomyType, setTaxonomyType] = useState<TaxonomyTypes | null>(null);\n  const [taxonomyValue, setTaxonomyValue] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (categoryMatch) {\n      setTaxonomyType(TaxonomyTypes.CATEGORY);\n      setTaxonomyValue(categoryMatch.category);\n    } else if (tagMatch) {\n      setTaxonomyType(TaxonomyTypes.TAG);\n      setTaxonomyValue(tagMatch.tag);\n    } else if (!itemMatch) {\n      setTaxonomyType(null);\n      setTaxonomyValue(null);\n    }\n  }, [categoryMatch, itemMatch, tagMatch]);\n\n  return { taxonomyType, taxonomyValue };\n};\n\nexport default useTaxonomy;\n","export const getCategoryIdBySlug = (categorySlug, categories) => {\n  return categorySlug\n    ? (categories ?? []).find(({ slug }) => slug === categorySlug)?.id\n    : null;\n};\n","import { useState, useEffect, useMemo } from 'react';\nimport { ItemType } from 'models/Item';\nimport { TaxonomyTypes } from 'models/Taxonomy';\nimport useCategories from './useCategories';\nimport useData from './useData';\nimport useTaxonomy from './useTaxonomy';\nimport { getCategoryIdBySlug } from './utils';\n\n// If no category, we sort as a blog\nconst sortByDateDescFn = (a: ItemType, b: ItemType) => {\n  if (a.meta.date === b.meta.date) {\n    return a.id < b.id ? 1 : -1;\n  } else {\n    return a.meta.date < b.meta.date ? 1 : -1;\n  }\n};\n\nconst useItems = (): ItemType[] => {\n  const { items: allItems = [] } = useData();\n  const { taxonomyValue, taxonomyType } = useTaxonomy();\n  const categories = useCategories();\n\n  const [items, setItems] = useState<ItemType[]>([]);\n\n  const allItemsSorted = useMemo(\n    () => [...allItems].sort(sortByDateDescFn),\n    [allItems]\n  );\n\n  useEffect(() => {\n    if (taxonomyType === TaxonomyTypes.CATEGORY && taxonomyValue != null) {\n      const categoryId = getCategoryIdBySlug(taxonomyValue, categories);\n\n      const filteredData = allItems.filter(\n        (item: ItemType) => item.category === categoryId\n      );\n      setItems(filteredData);\n    }\n\n    if (taxonomyType === TaxonomyTypes.TAG && taxonomyValue != null) {\n      const filteredData = allItems.filter(\n        (item: ItemType) => item.tags?.indexOf(taxonomyValue) > -1\n      );\n      setItems(filteredData);\n    }\n\n    // All items, no category\n    if (taxonomyType == null) {\n      setItems(allItemsSorted);\n    }\n  }, [allItems, allItemsSorted, categories, taxonomyType, taxonomyValue]);\n\n  return items;\n};\n\nexport default useItems;\n","import { useState, useEffect } from 'react';\n\nconst getLeft = () => document.body.getBoundingClientRect().left;\n\nconst getTop = () => document.body.getBoundingClientRect().top;\n\nconst useScroll = () => {\n  const [scroll, setScroll] = useState<{\n    x?: number;\n    y?: number;\n    direction?: string;\n  }>({});\n\n  useEffect(() => {\n    setScroll({\n      x: getLeft(),\n      y: getTop(),\n      direction: '',\n    });\n  }, []);\n\n  const listener = () => {\n    setScroll((prev) => ({\n      x: getLeft(),\n      y: -getTop(),\n      direction:\n        typeof prev.y === 'undefined' ? '' : prev.y > -getTop() ? 'up' : 'down',\n    }));\n  };\n\n  useEffect(() => {\n    window.addEventListener('scroll', listener);\n    return () => window.removeEventListener('scroll', listener);\n  }, []);\n\n  return scroll;\n};\n\nexport default useScroll;\n","import React from 'react';\nimport { CSSTransition } from 'react-transition-group';\nimport styled from 'styled-components';\nimport Portal from '@packages/Portal';\n\nconst DURATION = 500;\n\nconst Root = styled.div<{\n  duration: number;\n  transparentScrim: boolean;\n  width: number;\n}>`\n  & .scrim {\n    background: ${({ transparentScrim }) =>\n      transparentScrim ? 'transparent' : '#0003'};\n    bottom: 0;\n    left: 0;\n    position: fixed;\n    right: 0;\n    top: 0;\n    z-index: 1;\n\n    &.scrim-transition-enter {\n      opacity: 0;\n    }\n    &.scrim-transition-enter-active {\n      opacity: 1;\n      transition: opacity ${({ duration }) => duration}ms;\n    }\n    &.scrim-transition-exit {\n      opacity: 1;\n    }\n    &.scrim-transition-exit-active {\n      opacity: 0;\n      transition: ${DURATION}ms;\n    }\n  }\n\n  & .slidable {\n    bottom: 0;\n    position: fixed;\n    right: 0;\n    top: 0;\n    width: ${({ width }) => width}px;\n    z-index: 2;\n\n    &.slidable-transition-enter {\n      transform: translate3d(100%, 0, 0);\n    }\n    &.slidable-transition-enter-active {\n      transform: translate3d(0%, 0, 0);\n      transition: transform ${({ duration }) => duration}ms;\n    }\n    &.slidable-transition-exit {\n      transform: translate3d(0, 0, 0);\n    }\n    &.slidable-transition-exit-active {\n      transform: translate3d(100%, 0, 0);\n      transition: transform ${({ duration }) => duration}ms;\n    }\n  }\n`;\n\nconst cssTransitionProps = {\n  unmountOnExit: true,\n  timeout: DURATION,\n};\n\ntype Props = React.PropsWithChildren<{\n  duration?: number;\n  on: boolean;\n  onClose: () => void;\n  scrim?: boolean;\n  transparentScrim?: boolean;\n  width: number;\n}>;\n\nconst SlideIn = ({\n  children,\n  duration = DURATION,\n  on,\n  onClose,\n  scrim = true,\n  transparentScrim = false,\n  width,\n}: Props) => {\n  return (\n    <Portal>\n      <Root\n        duration={duration}\n        transparentScrim={transparentScrim}\n        width={width}\n      >\n        {scrim && (\n          <CSSTransition\n            {...cssTransitionProps}\n            classNames=\"scrim-transition\"\n            in={on}\n          >\n            <div className=\"scrim\" onClick={onClose} />\n          </CSSTransition>\n        )}\n\n        <CSSTransition\n          {...cssTransitionProps}\n          classNames=\"slidable-transition\"\n          in={on}\n        >\n          <div className=\"slidable\">{children}</div>\n        </CSSTransition>\n      </Root>\n    </Portal>\n  );\n};\n\nexport default SlideIn;\n","import React from 'react';\nimport { Link } from '@reach/router';\nimport { bool, string } from 'prop-types';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n  position: relative;\n  transition: all 0.3s ease;\n  transition-property: background-color, fill;\n\n  a {\n    display: block;\n    line-height: 2rem;\n    height: 2rem;\n    padding: 0 1rem 0 2rem;\n    text-decoration: none;\n  }\n\n  a:hover {\n    background-color: #ccc;\n  }\n`;\n\nconst Inner = styled.span`\n  color: #000;\n  font-family: ${({ active }) =>\n    active ? 'var(--sansItalic)' : 'var(--sans)'};\n  letter-spacing: 0.02em;\n  opacity: 0.8;\n`;\n\nconst Item = ({ active, children, to, slug, href }) => {\n  return (\n    <Wrapper active={active} category={slug}>\n      {href ? (\n        <a href={href}>\n          <Inner>{children}</Inner>\n        </a>\n      ) : (\n        <Link to={to}>\n          <Inner active={active}>{children}</Inner>\n        </Link>\n      )}\n    </Wrapper>\n  );\n};\n\nItem.propTypes = {\n  active: bool.isRequired,\n  children: string.isRequired,\n  to: string.isRequired,\n  slug: string,\n  href: string,\n};\n\nItem.defaultProps = {\n  slug: null,\n  href: false,\n};\n\nexport default Item;\n","import React from 'react';\nimport { TaxonomyTypes } from 'models/Taxonomy';\nimport useCategories from 'data/useCategories';\nimport useTaxonomy from 'data/useTaxonomy';\nimport Item from './Item';\n\nconst Categories = () => {\n  const categories = useCategories();\n  const { taxonomyType, taxonomyValue } = useTaxonomy();\n\n  return (\n    <div>\n      <Item to=\"/\" active={taxonomyType == null}>\n        All\n      </Item>\n\n      {categories.map(({ slug, name }) => (\n        <Item\n          key={slug}\n          to={`/category/${slug}`}\n          active={\n            taxonomyType === TaxonomyTypes.CATEGORY && slug === taxonomyValue\n          }\n          slug={slug}\n        >\n          {name}\n        </Item>\n      ))}\n    </div>\n  );\n};\n\nexport default Categories;\n","import React, { useState } from 'react';\nimport Tags from 'components/Tags';\nimport { TaxonomyTypes } from 'models/Taxonomy';\nimport styled from 'styled-components';\nimport SlideIn from '@packages/SlideIn/SlideIn';\nimport useTags from 'data/useTags';\nimport useTaxonomy from 'data/useTaxonomy';\nimport Categories from './components/Categories';\n\nconst Button = styled.button`\n  align-items: center;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  display: flex;\n  padding: 0;\n  height: 3rem;\n  width: 3rem;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst SidebarRoot = styled.nav`\n  background: #fff;\n  bottom: 0;\n  padding-top: 1.5rem;\n  position: absolute;\n  right: 0;\n  top: 0;\n  width: 300px;\n\n  & > div:not(:last-child) {\n    margin-bottom: 1.5rem;\n  }\n\n  h3 {\n    font-size: var(--font-size-smaller-1);\n    letter-spacing: 0.05rem;\n    margin-bottom: 0.5rem;\n    padding-left: 2rem;\n    text-transform: uppercase;\n  }\n\n  & .tagsWrapper {\n    padding: 0.5rem 1rem 0 2rem;\n    margin-left: -2px;\n  }\n`;\n\nconst Navigation = () => {\n  const [showMenu, setShowMenu] = useState(false);\n  const tags = useTags();\n  const { taxonomyType, taxonomyValue } = useTaxonomy();\n\n  const handleClick = () => {\n    setShowMenu(!showMenu);\n  };\n\n  const handleClose = () => {\n    setShowMenu(false);\n  };\n\n  return (\n    <div>\n      <Button onClick={handleClick}>\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          height=\"24\"\n          viewBox=\"0 0 24 24\"\n          width=\"24\"\n        >\n          <path d=\"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z\" />\n        </svg>\n      </Button>\n\n      <SlideIn on={showMenu} onClose={handleClose} width={300}>\n        <SidebarRoot>\n          <h3>Categories</h3>\n          <Categories />\n\n          <h3>Tags</h3>\n          <div className=\"tagsWrapper\">\n            <Tags\n              tags={Object.keys(tags)}\n              activeTag={\n                taxonomyType === TaxonomyTypes.TAG ? taxonomyValue : undefined\n              }\n            />\n          </div>\n        </SidebarRoot>\n      </SlideIn>\n    </div>\n  );\n};\n\nexport default Navigation;\n","import React, { useMemo } from 'react';\nimport useScroll from 'hooks/useScroll';\nimport styled from 'styled-components';\nimport Navigation from './Navigation/Navigation';\n\nconst MAX_ANIMATED_SCROLL = 200;\n\n// https://easings.net/\nconst easeInOutCubic = (x: number): number =>\n  x < 0.5 ? 4 * x * x * x : 1 - Math.pow(-2 * x + 2, 3) / 2;\n\nconst scrollToScale = (\n  scrollPosition: number,\n  startValue: number,\n  endValue: number\n) => {\n  const scale =\n    (MAX_ANIMATED_SCROLL - Math.min(scrollPosition, MAX_ANIMATED_SCROLL)) /\n    MAX_ANIMATED_SCROLL;\n  return endValue + easeInOutCubic(scale) * (startValue - endValue);\n};\n\nconst Root = styled.header`\n  align-items: center;\n  background: #fff;\n  box-sizing: border-box;\n  display: flex;\n  height: 4rem;\n  justify-content: space-between;\n  padding: 0 0.25rem 0 1rem;\n  position: fixed;\n  width: 100%;\n  z-index: 10;\n\n  & .title {\n    line-height: 2rem;\n    font-size: 1.5rem;\n    font-family: var(--sansSubsetForTitle);\n    font-weight: 300;\n\n    b {\n      font-weight: 600;\n    }\n\n    transform-origin: 0 50% 0;\n  }\n`;\n\nconst Header = () => {\n  const { y = 0 } = useScroll();\n  const scrollPosition = Math.min(MAX_ANIMATED_SCROLL, y);\n\n  const styles = useMemo(\n    () => ({\n      root: {\n        transform: `translate3d(0, ${scrollToScale(\n          scrollPosition,\n          0,\n          -2\n        )}rem, 0)`,\n      },\n      title: {\n        transform: `scale3d(\n          ${scrollToScale(scrollPosition, 1, 0.75)}, \n          ${scrollToScale(scrollPosition, 1, 0.75)},\n          1\n        ) translate3d(0, ${scrollToScale(scrollPosition, 0, 1.25)}rem, 0)`,\n      },\n      navigation: {\n        transform: `translate3d(0, ${scrollToScale(\n          scrollPosition,\n          0,\n          1\n        )}rem, 0)`,\n      },\n    }),\n    [scrollPosition]\n  );\n\n  return (\n    <Root style={styles.root}>\n      <h1 className=\"title\" style={styles.title}>\n        <b>BalÃ¡zs Herczeg</b> amateur photography\n      </h1>\n      <div style={styles.navigation}>\n        <Navigation />\n      </div>\n    </Root>\n  );\n};\n\nexport default Header;\n","import React from 'react';\nimport styled from 'styled-components';\nimport Gallery from '@packages/Gallery';\nimport useItems from 'data/useItems';\nimport Header from './Header';\n\nconst Main = styled.div`\n  padding: 4rem 16px 32px;\n`;\n\nconst Page = () => {\n  const items = useItems();\n\n  return (\n    <>\n      <Header />\n      <Main>\n        <Gallery items={items} />\n      </Main>\n    </>\n  );\n};\n\nexport default Page;\n","import React from 'react';\nimport { Router } from '@reach/router';\n/* eslint-disable prettier/prettier */\nimport 'assets/styles/reset.css';\nimport 'assets/styles/fonts.css';\n/* eslint-enable prettier/prettier */\nimport Page from 'components/Page';\n\nconst Index = () => (\n  <Router basepath=\"/\">\n    <Page path=\"/*\" />\n  </Router>\n);\n\nexport default Index;\n"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","useLatest","val","ref","useRef","current","_temp","_ref","useBorderBoxSize","breakpoints","updateOnBreakpointChange","shouldUpdate","onResize","polyfill","_useState","useState","currentBreakpoint","width","height","state","setState","prevSizeRef","prevBreakpointRef","observerRef","warnedRef","onResizeRef","shouldUpdateRef","unobserve","useCallback","disconnect","observe","element","clientWidth","clientHeight","useEffect","window","console","error","raf","ResizeObserver","_ref2","entry","requestAnimationFrame","contentBoxSize","borderBoxSize","contentRect","boxSize","warn","Array","isArray","inlineSize","blockSize","bps","w","curBp","max","e","keys","forEach","next","prev","cancelAnimationFrame","JSON","stringify","defaultProps","delta","preventScrollOnSwipe","rotationAngle","trackMouse","trackTouch","swipeDuration","Infinity","touchEventOptions","passive","initialState","first","initial","start","swiping","xy","mouseMove","mouseUp","rotateXYByAngle","pos","angle","angleInRadians","Math","PI","cos","sin","getHandlers","set","handlerProps","onStart","event","isTouch","touches","props","document","addEventListener","onMove","onUp","clientX","clientY","onTouchStartOrOnMouseDown","slice","timeStamp","x","y","deltaX","deltaY","absX","abs","absY","time","velocity","sqrt","vxvy","dir","getDirection","toLowerCase","eventData","onSwipeStart","onSwiping","cancelablePageSwipe","onSwiped","cancelable","preventDefault","onEnd","onSwipedDir","onTap","onTouchEndOrOnMouseUp","removeEventListener","attachTouch","el","cleanup","baseOptions","tls","h","o","output","addState","cleanUpTouch","onMouseDown","useSwipeable","options","transientState","transientProps","previousProps","defaultKey","handlers","stateSetter","undefined","updateTransientState","styled","svgClose","encodeURIComponent","CloseButton","BaseButton","svgNext","NextButton","svgPrev","PrevButton","onClose","onNext","onPrev","showNext","showPrev","React","onClick","getSizes","item","sources","map","numericString","getLargestSource","sizes","getRatio","Root","srcCache","size","loadableSrc","setLoadableSrc","loadedSrc","setLoadedSrc","src","minSize","largerSizes","filter","imageSize","min","getLargeEnoughSource","img","Image","onload","tempImage","useMemo","alreadyLoadedKeys","number","largestAlreadyLoaded","getLargestLoadedSource","temporaryBackground","backgroundImage","meta","color","backgroundColor","style","className","role","alt","cc","names","out","tmp","k","data","loadStarted","fetch","process","then","result","json","d","tags","useData","activeTag","allTags","useTags","slug","Link","to","active","caption","date","location","Tags","dateParts","split","formatDate","scroll","setScroll","body","getBoundingClientRect","left","top","direction","listener","windowSize","setWindowSize","handleResize","innerWidth","innerHeight","children","containerRef","useWindowSize","imageRatio","containerSize","containedSize","containerHeight","containerWidth","containerRatio","getOffset","index","ImageSizer","Picture","Caption","startIndex","items","setIndex","renderables","setRenderables","firstFrame","lastFrame","carrouselStyle","transform","handleClick","nextIndex","nextRenderables","push","shift","handleNextClick","handlePrevClick","handleKeyDown","keyCode","swipeHandlers","onSwipedLeft","onSwipedRight","Buttons","renderableIndex","Item","bind","_objectWithoutPropertiesLoose","excluded","sourceKeys","indexOf","replaceClassName","origClass","classToRemove","replace","RegExp","forceReflow","node","scrollTop","UNMOUNTED","EXITED","ENTERING","ENTERED","EXITING","Transition","_React$Component","context","_this","initialStatus","appear","isMounting","enter","appearStatus","in","unmountOnExit","mountOnEnter","status","nextCallback","getDerivedStateFromProps","prevState","_proto","componentDidMount","updateStatus","componentDidUpdate","prevProps","nextStatus","componentWillUnmount","cancelNextCallback","getTimeouts","exit","timeout","mounting","nodeRef","performEnter","performExit","_this2","appearing","maybeNode","maybeAppearing","timeouts","enterTimeout","config","safeSetState","onEntered","onEnter","onEntering","onTransitionEnd","_this3","onExit","onExiting","onExited","cancel","nextState","callback","setNextCallback","_this4","handler","doesNotHaveTimeoutOrListener","addEndListener","_ref3","maybeNextCallback","setTimeout","render","_this$props","childProps","TransitionGroupContext","Provider","value","noop","contextType","propTypes","removeClass","classes","c","classList","remove","setAttribute","baseVal","CSSTransition","_len","args","_key","concat","appliedClasses","_this$resolveArgument","resolveArguments","removeClasses","addClass","_this$resolveArgument2","type","_this$resolveArgument3","getClassNames","classNames","isStringClassNames","baseClassName","activeClassName","doneClassName","phase","add","contains","hasClass","_addClass","_this$appliedClasses$","base","done","zIndex","position","container","setContainer","createElement","appendChild","removeChild","ReactDOM","Modal","Layout","modal","onUnmountModal","showModal","LoadingStyled","renderedItems","positions","windowHeight","useScroll","visibleItems","getVisibleItems","itemRendererFn","_","useVisibleItems","getHighestBottom","bottoms","getColumn","bottom","calculateLeft","column","columnWidth","calculateNextBottom","calculateMasonry","columnCount","ceil","getLayout","from","layoutCache","ratio","nextBottom","MasonryItem","fullView","setFullView","showFullView","setShowFullView","paramItemId","useMatch","paramTag","useDimensions","useMasonry","parentLocation","scrollTo","findIndex","id","handleItemClick","pathname","navigate","_items$index","handleHideFullView","async","_layoutCache$position","handleNext","_items$index2","Carrousel","Masonry","Loading","TaxonomyTypes","categories","categoryMatch","tagMatch","itemMatch","taxonomyType","setTaxonomyType","taxonomyValue","setTaxonomyValue","CATEGORY","category","TAG","tag","sortByDateDescFn","a","b","allItems","useTaxonomy","useCategories","setItems","allItemsSorted","_toConsumableArray","sort","categoryId","categorySlug","find","getCategoryIdBySlug","filteredData","_item$tags","getLeft","getTop","DURATION","transparentScrim","duration","_ref4","_ref5","cssTransitionProps","_ref6","on","scrim","Portal","Wrapper","Inner","href","name","Button","SidebarRoot","showMenu","setShowMenu","xmlns","viewBox","SlideIn","Categories","MAX_ANIMATED_SCROLL","scrollToScale","scrollPosition","startValue","endValue","scale","pow","styles","root","title","navigation","Navigation","Main","useItems","Header","Gallery","Router","basepath","path"],"sourceRoot":""}